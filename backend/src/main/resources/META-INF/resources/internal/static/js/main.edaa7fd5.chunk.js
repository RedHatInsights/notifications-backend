(this.webpackJsonpinternal=this.webpackJsonpinternal||[]).push([[0],{429:function(e,t,a){},639:function(e,t,a){"use strict";a.r(t);a(331);var n,i,l=a(59),r=a(6),o=a.n(r),c=a(133),s=a.n(c),u=a(94),d=a(192),p=a(15),m=(a(429),a(700)),b=a(685),j=a(321),y=a(659),_=a(419),v=a(253),h=a(690),f=a(417),O=a(99),E=a(656),g=a(686),x=a(660),R=a(658),T=a(19),w="\n// Here we can initialize the value of the Aggregation result.\nconst result = {\n};\n\n// This function will be called by every action that was sent to notification server\n// to update the result with its values.\nconst aggregate = (action) => {\n\n    return result;\n};\n".trimLeft(),I=a(8),V=a.n(I),C=a(178),A=a(664),P=a(665),N=a(694),B=a(695),k=a(283),G=a(204),S=a(670),q=a(671),D=a(691),L=a(666),M=a(667),U=a(688),F=a(668),H=a(687),z=a(79),Q=r.createContext({isAdmin:!1,applications:[],roles:[],refresh:function(){throw new Error("Invalid use of refresh")}}),J=function(){var e=Object(r.useContext)(Q),t=Object(r.useCallback)((function(t){return!!e.isAdmin||void 0!==e.applications.find((function(e){return e.id===t}))}),[e]);return Object(z.a)(Object(z.a)({},e),{},{hasPermission:t})},W=a(669),Y=a(31),$=a(30);!function(e){e.AddAccessRequest=$.f({application_id:f().optional().nullable(),role:$.h().optional().nullable()}).nonstrict(),e.AddApplicationRequest=$.f({bundle_id:f(),display_name:$.h(),name:$.h(),owner_role:$.h().optional().nullable()}).nonstrict(),e.AggregationEmailTemplate=$.f({application:a().optional().nullable(),application_id:f().optional().nullable(),body_template:h().optional().nullable(),body_template_id:f(),created:$.h().optional().nullable(),id:f().optional().nullable(),subject_template:h().optional().nullable(),subject_template_id:f(),subscription_type:s(),updated:$.h().optional().nullable()}).nonstrict(),e.Application=t(),e.Application1=a(),e.BasicAuthentication=n(),e.BehaviorGroup=$.f({actions:$.a(i()).optional().nullable(),bundle:r().optional().nullable(),bundle_id:f(),created:$.h().optional().nullable(),default_behavior:$.b().optional().nullable(),display_name:$.h(),id:f().optional().nullable(),updated:$.h().optional().nullable()}).nonstrict(),e.BehaviorGroupAction=i(),e.BehaviorGroupActionId=l(),e.Bundle=r(),e.CamelProperties=o(),e.CurrentStatus=$.f({end_time:$.h().optional().nullable(),start_time:$.h().optional().nullable(),status:v()}).nonstrict(),e.EmailSubscriptionProperties=c(),e.EmailSubscriptionType=s(),e.Endpoint=u(),e.EndpointPage=$.f({data:$.a(u()),links:$.g($.h()),meta:_()}).nonstrict(),e.EndpointProperties=$.j(),e.EndpointType=d(),e.Environment=p(),e.EventLogEntry=m(),e.EventLogEntryAction=b(),e.EventType=j(),e.Facet=function e(){return $.f({children:$.a($.d((function(){return e()}))).optional().nullable(),displayName:$.h(),id:$.h(),name:$.h()}).nonstrict()}(),e.HttpType=y(),e.InstantEmailTemplate=$.f({body_template:h().optional().nullable(),body_template_id:f(),created:$.h().optional().nullable(),event_type:j().optional().nullable(),event_type_id:f().optional().nullable(),id:f().optional().nullable(),subject_template:h().optional().nullable(),subject_template_id:f(),updated:$.h().optional().nullable()}).nonstrict(),e.InternalApplicationUserPermission=$.f({application_display_name:$.h(),application_id:f(),role:$.h()}).nonstrict(),e.InternalRoleAccess=$.f({application_id:f(),id:f().optional().nullable(),role:$.h()}).nonstrict(),e.InternalUserPermissions=$.f({applications:$.a(t()),is_admin:$.b(),roles:$.a($.h())}).nonstrict(),e.MessageErrorValidationResponse=$.f({errors:$.g($.a($.h()))}).nonstrict(),e.Meta=_(),e.NotificationHistory=$.f({created:$.h().optional().nullable(),details:$.g($.j()).optional().nullable(),endpointId:f().optional().nullable(),endpointSubType:$.h().optional().nullable(),endpointType:d().optional().nullable(),id:f().optional().nullable(),invocationResult:$.b(),invocationTime:$.e().int()}).nonstrict(),e.PageEventLogEntry=$.f({data:$.a(m()),links:$.g($.h()),meta:_()}).nonstrict(),e.PageEventType=$.f({data:$.a(j()),links:$.g($.h()),meta:_()}).nonstrict(),e.RenderEmailTemplateRequest=$.f({body_template:$.h(),payload:$.h(),subject_template:$.h()}).nonstrict(),e.RequestDefaultBehaviorGroupPropertyList=$.f({ignore_preferences:$.b(),only_admins:$.b()}).nonstrict(),e.RequestEmailSubscriptionProperties=$.f({group_id:f().optional().nullable(),only_admins:$.b()}).nonstrict(),e.ServerInfo=$.f({environment:p().optional().nullable()}).nonstrict(),e.Status=v(),e.Template=h(),e.UUID=f(),e.WebhookProperties=O(),e.__Empty=$.h().max(0).optional();function t(){return $.f({display_name:$.h(),id:f()}).nonstrict()}function a(){return $.f({bundle_id:f(),created:$.h().optional().nullable(),display_name:$.h(),id:f().optional().nullable(),name:$.h(),updated:$.h().optional().nullable()}).nonstrict()}function n(){return $.f({password:$.h().optional().nullable(),username:$.h().optional().nullable()}).nonstrict()}function i(){return $.f({created:$.h().optional().nullable(),endpoint:u().optional().nullable(),id:l().optional().nullable()}).nonstrict()}function l(){return $.f({behaviorGroupId:f(),endpointId:f()}).nonstrict()}function r(){return $.f({created:$.h().optional().nullable(),display_name:$.h(),id:f().optional().nullable(),name:$.h(),updated:$.h().optional().nullable()}).nonstrict()}function o(){return $.f({basic_authentication:n().optional().nullable(),disable_ssl_verification:$.b(),extras:$.g($.h()).optional().nullable(),secret_token:$.h().optional().nullable(),sub_type:$.h().optional().nullable(),url:$.h()}).nonstrict()}function c(){return $.f({group_id:f().optional().nullable(),ignore_preferences:$.b(),only_admins:$.b()}).nonstrict()}function s(){return $.c(["INSTANT","DAILY"])}function u(){return $.f({created:$.h().optional().nullable(),description:$.h(),enabled:$.b().optional().nullable(),id:f().optional().nullable(),name:$.h(),properties:$.i([O(),c(),o()]).optional().nullable(),sub_type:$.h().optional().nullable(),type:d(),updated:$.h().optional().nullable()}).nonstrict()}function d(){return $.c(["webhook","email_subscription","default","camel"])}function p(){return $.c(["PROD","STAGE","EPHEMERAL","LOCAL_SERVER"])}function m(){return $.f({actions:$.a(b()),application:$.h(),bundle:$.h(),created:$.h(),event_type:$.h(),id:f(),payload:$.h().optional().nullable()}).nonstrict()}function b(){return $.f({details:$.g($.j()).optional().nullable(),endpoint_id:f().optional().nullable(),endpoint_sub_type:$.h().optional().nullable(),endpoint_type:d(),id:f(),invocation_result:$.b()}).nonstrict()}function j(){return $.f({application:a().optional().nullable(),application_id:f(),description:$.h().optional().nullable(),display_name:$.h(),id:f().optional().nullable(),name:$.h()}).nonstrict()}function y(){return $.c(["GET","POST","PUT"])}function _(){return $.f({count:$.e().int()}).nonstrict()}function v(){return $.c(["UP","MAINTENANCE"])}function h(){return $.f({created:$.h().optional().nullable(),data:$.h(),description:$.h(),id:f().optional().nullable(),name:$.h(),updated:$.h().optional().nullable()}).nonstrict()}function f(){return $.h()}function O(){return $.f({basic_authentication:n().optional().nullable(),disable_ssl_verification:$.b(),method:y(),secret_token:$.h().optional().nullable(),url:$.h()}).nonstrict()}}(n||(n={})),function(e){var t,a,i,r,o,c,s,u,d,p,m,b,j,y,_,v,h,f,O,E,g,x,R,T,w,I,V,C,A,P,N,B,k,G,S,q,D,L,M,U,F,H,z,Q,J,W,K,X,Z,ee,te,ae,ne,ie,le,re,oe;(t||(t=e.InternalResourceHttpRoot||(e.InternalResourceHttpRoot={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./").queryParams({}).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",204),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.a(n.InternalApplicationUserPermission);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./access").queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(a||(a=e.InternalPermissionResourceGetAccessList||(e.InternalPermissionResourceGetAccessList={}))),(i||(i=e.InternalPermissionResourceAddAccess||(e.InternalPermissionResourceAddAccess={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./access").queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.InternalRoleAccess,"InternalRoleAccess",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(r||(r=e.InternalPermissionResourceGetPermissions||(e.InternalPermissionResourceGetPermissions={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./access/me").queryParams({}).config({rules:[new Y.ValidateRule(n.InternalUserPermissions,"InternalUserPermissions",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(o||(o=e.InternalPermissionResourceDeleteAccess||(e.InternalPermissionResourceDeleteAccess={}))).actionCreator=function(e){var t="./access/{internalRoleAccessId}".replace("{internalRoleAccessId}",e.internalRoleAccessId.toString());return Object(l.actionBuilder)("DELETE",t).queryParams({}).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",204),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},s=c||(c=e.AdminResourceDebugRbac||(e.AdminResourceDebugRbac={})),$.h(),s.actionCreator=function(e){var t={};return void 0!==e.rhid&&(t.rhid=e.rhid),Object(l.actionBuilder)("GET","./admin").queryParams(t).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},d=u||(u=e.AdminResourceSetAdminDown||(e.AdminResourceSetAdminDown={})),$.h(),d.actionCreator=function(e){var t={};return void 0!==e.status&&(t.status=e.status),Object(l.actionBuilder)("POST","./admin/status").queryParams(t).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(p||(p=e.AdminResourceMigrate||(e.AdminResourceMigrate={}))).actionCreator=function(){return Object(l.actionBuilder)("PUT","./admin/templates/migrate").queryParams({}).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",204),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(m||(m=e.AdminResourceDeleteAllTemplates||(e.AdminResourceDeleteAllTemplates={}))).actionCreator=function(){return Object(l.actionBuilder)("DELETE","./admin/templates/migrate").queryParams({}).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",204),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(b||(b=e.InternalResourceCreateApplication||(e.InternalResourceCreateApplication={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./applications").queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.Application1,"Application1",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(j||(j=e.InternalResourceGetApplication||(e.InternalResourceGetApplication={}))).actionCreator=function(e){var t="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new Y.ValidateRule(n.Application1,"Application1",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(y||(y=e.InternalResourceUpdateApplication||(e.InternalResourceUpdateApplication={}))).actionCreator=function(e){var t="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(_||(_=e.InternalResourceDeleteApplication||(e.InternalResourceDeleteApplication={}))),function(e){var t=$.a(n.EventType);e.actionCreator=function(e){var a="./applications/{appId}/eventTypes".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(v||(v=e.InternalResourceGetEventTypes||(e.InternalResourceGetEventTypes={}))),function(e){var t=$.a(n.BehaviorGroup);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./behaviorGroups/default").queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(h||(h=e.InternalResourceGetDefaultBehaviorGroups||(e.InternalResourceGetDefaultBehaviorGroups={}))),(f||(f=e.InternalResourceCreateDefaultBehaviorGroup||(e.InternalResourceCreateDefaultBehaviorGroup={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./behaviorGroups/default").queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.BehaviorGroup,"BehaviorGroup",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){$.a(n.RequestDefaultBehaviorGroupPropertyList);var t=$.h();e.actionCreator=function(e){var a="./behaviorGroups/default/{behaviorGroupId}/actions".replace("{behaviorGroupId}",e.behaviorGroupId.toString());return Object(l.actionBuilder)("PUT",a).queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(O||(O=e.InternalResourceUpdateDefaultBehaviorGroupActions||(e.InternalResourceUpdateDefaultBehaviorGroupActions={}))),function(e){var t=$.h();e.actionCreator=function(e){var a="./behaviorGroups/default/{behaviorGroupId}/eventType/{eventTypeId}".replace("{behaviorGroupId}",e.behaviorGroupId.toString()).replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("PUT",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(E||(E=e.InternalResourceLinkDefaultBehaviorToEventType||(e.InternalResourceLinkDefaultBehaviorToEventType={}))),function(e){var t=$.h();e.actionCreator=function(e){var a="./behaviorGroups/default/{behaviorGroupId}/eventType/{eventTypeId}".replace("{behaviorGroupId}",e.behaviorGroupId.toString()).replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(g||(g=e.InternalResourceUnlinkDefaultBehaviorToEventType||(e.InternalResourceUnlinkDefaultBehaviorToEventType={}))),function(e){var t=$.b();e.actionCreator=function(e){var a="./behaviorGroups/default/{id}".replace("{id}",e.id.toString());return Object(l.actionBuilder)("PUT",a).queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(x||(x=e.InternalResourceUpdateDefaultBehaviorGroup||(e.InternalResourceUpdateDefaultBehaviorGroup={}))),function(e){var t=$.b();e.actionCreator=function(e){var a="./behaviorGroups/default/{id}".replace("{id}",e.id.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(R||(R=e.InternalResourceDeleteDefaultBehaviorGroup||(e.InternalResourceDeleteDefaultBehaviorGroup={}))),function(e){var t=$.a(n.Bundle);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./bundles").queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(T||(T=e.InternalResourceGetBundles||(e.InternalResourceGetBundles={}))),(w||(w=e.InternalResourceCreateBundle||(e.InternalResourceCreateBundle={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./bundles").queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.Bundle,"Bundle",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(I||(I=e.InternalResourceGetBundle||(e.InternalResourceGetBundle={}))).actionCreator=function(e){var t="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new Y.ValidateRule(n.Bundle,"Bundle",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(V||(V=e.InternalResourceUpdateBundle||(e.InternalResourceUpdateBundle={}))).actionCreator=function(e){var t="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(C||(C=e.InternalResourceDeleteBundle||(e.InternalResourceDeleteBundle={}))),function(e){var t=$.a(n.Application1);e.actionCreator=function(e){var a="./bundles/{bundleId}/applications".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(A||(A=e.InternalResourceGetApplications||(e.InternalResourceGetApplications={}))),(P||(P=e.InternalResourceCreateEventType||(e.InternalResourceCreateEventType={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./eventTypes").queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.EventType,"EventType",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(N||(N=e.InternalResourceUpdateEventType||(e.InternalResourceUpdateEventType={}))).actionCreator=function(e){var t="./eventTypes/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./eventTypes/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(B||(B=e.InternalResourceDeleteEventType||(e.InternalResourceDeleteEventType={}))),(k||(k=e.InternalResourceGetServerInfo||(e.InternalResourceGetServerInfo={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./serverInfo").queryParams({}).config({rules:[new Y.ValidateRule(n.ServerInfo,"ServerInfo",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(G||(G=e.InternalResourceSetCurrentStatus||(e.InternalResourceSetCurrentStatus={}))).actionCreator=function(e){return Object(l.actionBuilder)("PUT","./status").queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",204),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.a(n.Template);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./templates").queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(S||(S=e.TemplateResourceGetAllTemplates||(e.TemplateResourceGetAllTemplates={}))),(q||(q=e.TemplateResourceCreateTemplate||(e.TemplateResourceCreateTemplate={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates").queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.Template,"Template",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.a(n.AggregationEmailTemplate);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./templates/email/aggregation").queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(D||(D=e.TemplateResourceGetAllAggregationEmailTemplates||(e.TemplateResourceGetAllAggregationEmailTemplates={}))),(L||(L=e.TemplateResourceCreateAggregationEmailTemplate||(e.TemplateResourceCreateAggregationEmailTemplate={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates/email/aggregation").queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.AggregationEmailTemplate,"AggregationEmailTemplate",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.a(n.AggregationEmailTemplate);e.actionCreator=function(e){var a="./templates/email/aggregation/application/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(M||(M=e.TemplateResourceGetAggregationEmailTemplatesByApplication||(e.TemplateResourceGetAggregationEmailTemplatesByApplication={}))),(U||(U=e.TemplateResourceGetAggregationemailTemplate||(e.TemplateResourceGetAggregationemailTemplate={}))).actionCreator=function(e){var t="./templates/email/aggregation/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new Y.ValidateRule(n.AggregationEmailTemplate,"AggregationEmailTemplate",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(F||(F=e.TemplateResourceUpdateAggregationEmailTemplate||(e.TemplateResourceUpdateAggregationEmailTemplate={}))).actionCreator=function(e){var t="./templates/email/aggregation/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./templates/email/aggregation/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(H||(H=e.TemplateResourceDeleteAggregationEmailTemplate||(e.TemplateResourceDeleteAggregationEmailTemplate={}))),function(e){var t=$.a(n.InstantEmailTemplate);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./templates/email/instant").queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(z||(z=e.TemplateResourceGetAllInstantEmailTemplates||(e.TemplateResourceGetAllInstantEmailTemplates={}))),(Q||(Q=e.TemplateResourceCreateInstantEmailTemplate||(e.TemplateResourceCreateInstantEmailTemplate={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates/email/instant").queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.InstantEmailTemplate,"InstantEmailTemplate",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.a(n.InstantEmailTemplate);e.actionCreator=function(e){var a="./templates/email/instant/eventType/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(J||(J=e.TemplateResourceGetInstantEmailTemplates||(e.TemplateResourceGetInstantEmailTemplates={}))),(W||(W=e.TemplateResourceGetInstantEmailTemplate||(e.TemplateResourceGetInstantEmailTemplate={}))).actionCreator=function(e){var t="./templates/email/instant/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new Y.ValidateRule(n.InstantEmailTemplate,"InstantEmailTemplate",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(K||(K=e.TemplateResourceUpdateInstantEmailTemplate||(e.TemplateResourceUpdateInstantEmailTemplate={}))).actionCreator=function(e){var t="./templates/email/instant/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./templates/email/instant/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(X||(X=e.TemplateResourceDeleteInstantEmailTemplate||(e.TemplateResourceDeleteInstantEmailTemplate={}))),function(e){var t=$.f({body:$.h().optional().nullable(),subject:$.h().optional().nullable()}).nonstrict(),a=$.f({message:$.h().optional().nullable()}).nonstrict();e.actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates/email/render").queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(a,"unknown",400),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(Z||(Z=e.TemplateResourceRenderEmailTemplate||(e.TemplateResourceRenderEmailTemplate={}))),(ee||(ee=e.TemplateResourceGetTemplate||(e.TemplateResourceGetTemplate={}))).actionCreator=function(e){var t="./templates/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new Y.ValidateRule(n.Template,"Template",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(te||(te=e.TemplateResourceUpdateTemplate||(e.TemplateResourceUpdateTemplate={}))).actionCreator=function(e){var t="./templates/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=$.b();e.actionCreator=function(e){var a="./templates/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(ae||(ae=e.TemplateResourceDeleteTemplate||(e.TemplateResourceDeleteTemplate={}))),ie=ne||(ne=e.ValidationResourceValidate||(e.ValidationResourceValidate={})),$.h(),$.h(),$.h(),ie.actionCreator=function(e){var t={};return void 0!==e.application&&(t.application=e.application),void 0!==e.bundle&&(t.bundle=e.bundle),void 0!==e.eventType&&(t.eventType=e.eventType),Object(l.actionBuilder)("GET","./validation/baet").queryParams(t).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",200)]}).build()},re=le||(le=e.ValidationResourceValidateMessage||(e.ValidationResourceValidateMessage={})),$.h(),re.actionCreator=function(e){return Object(l.actionBuilder)("POST","./validation/message").queryParams({}).data(e.body).config({rules:[new Y.ValidateRule(n.__Empty,"__Empty",200),new Y.ValidateRule(n.MessageErrorValidationResponse,"MessageErrorValidationResponse",400)]}).build()},function(e){var t=$.h();e.actionCreator=function(){return Object(l.actionBuilder)("GET","./version").queryParams({}).config({rules:[new Y.ValidateRule(t,"unknown",200),new Y.ValidateRule(n.__Empty,"__Empty",401),new Y.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(oe||(oe=e.InternalResourceGetVersion||(e.InternalResourceGetVersion={})))}(i||(i={}));var K=Object(Y.validationResponseTransformer)((function(e){if(200===e.status){var t,a={id:null!==(t=e.value.id)&&void 0!==t?t:"",displayName:e.value.display_name,name:e.value.name,bundleId:e.value.bundle_id};return Object(Y.validatedResponse)("Application",200,a,e.errors)}return e})),X=function(e){var t=Object(u.useQuery)(i.InternalResourceGetApplication.actionCreator({appId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return K(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])},Z=a(693),ee=a(410),te=Object(Y.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){var t,a;return{id:null!==(t=e.id)&&void 0!==t?t:"",name:e.name,displayName:e.display_name,description:null!==(a=e.description)&&void 0!==a?a:"",applicationId:e.application_id}}));return Object(Y.validatedResponse)("EventTypes",200,t,e.errors)}return e})),ae=function(e){var t=Object(u.useQuery)(i.InternalResourceGetEventTypes.actionCreator({appId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return te(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])},ne=function(e){var t,a=ae(e.appId);return a.loading?Object(T.jsx)(_.a,{}):200!==(null===(t=a.payload)||void 0===t?void 0:t.status)?Object(T.jsxs)("span",{children:["Error while loading eventtypes: ",a.errorObject.toString()]}):Object(T.jsxs)(r.Fragment,{children:[Object(T.jsx)(Z.a,{children:0===a.payload.value.length?"No event types":""}),Object(T.jsx)(Z.a,{children:a.payload.value.map((function(e){return Object(T.jsx)(ee.a,{isReadOnly:!0,children:e.displayName},e.id)}))})]})},ie=a(689),le=a(662),re=a(663),oe=function(e){return Object(T.jsx)(o.a.Fragment,{children:Object(T.jsx)(ie.a,{variant:ie.b.medium,title:" Email Template for ".concat(e.applicationName),isOpen:e.showModal,onClose:e.onClose,children:Object(T.jsxs)(le.a,{isHorizontal:!0,children:["Viewing modal for existing templates",Object(T.jsx)(re.a,{children:Object(T.jsx)(G.a,{variant:"primary",type:"reset",onClick:e.onClose,children:"Close"})})]})})})},ce=function(){var e,t,a,n,i=J().hasPermission,l=Object(O.g)().applicationId,o=X(l),c=r.useState(!1),s=Object(p.a)(c,2),u=s[0],m=s[1],b=function(){m(!0)},j=r.useMemo((function(){var e;if(200===(null===(e=o.payload)||void 0===e?void 0:e.status))return o.payload.value}),[null===(e=o.payload)||void 0===e?void 0:e.status,null===(t=o.payload)||void 0===t?void 0:t.value]);return Object(T.jsx)(r.Fragment,{children:Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h1",children:Object(T.jsx)(A.a,{children:Object(T.jsxs)(P.a,{target:"#",children:[" Email Template for ",null!==(a=null===j||void 0===j?void 0:j.displayName)&&void 0!==a?a:""]})})}),Object(T.jsxs)(D.a,{"aria-label":"Email Template table",children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(N.a,{children:Object(T.jsx)(B.a,{children:Object(T.jsxs)(k.a,{children:[Object(T.jsx)(G.a,{variant:"primary",isDisabled:!j||!i(null===j||void 0===j?void 0:j.id),component:function(e){return Object(T.jsx)(d.b,Object(z.a)(Object(z.a)({},e),{},{to:$e.emailTemplates}))},children:"Create Email Template"}),Object(T.jsx)(oe,{showModal:u,applicationName:null!==(n=null===j||void 0===j?void 0:j.displayName)&&void 0!==n?n:"",onClose:function(){m(!1)}})]})})}),Object(T.jsx)(M.a,{children:["Email Template","Event Types"].map((function(e,t){return Object(T.jsx)(U.a,{children:e},t)}))})]}),Object(T.jsx)(F.a,{children:[{displayName:"email template 1",id:"1",eventType:"event Type 1"},{displayName:"email template 2",id:"2",eventType:"event Type 2"},{displayName:"email template 3",id:"3",eventType:"event Type 3"},{displayName:"email template 4",id:"4",eventType:"event Type 4"}].map((function(e){var t;return Object(T.jsxs)(M.a,{children:[Object(T.jsx)(H.a,{children:e.displayName}),Object(T.jsx)(H.a,{children:Object(T.jsx)(ne,{appId:null!==(t=null===j||void 0===j?void 0:j.id)&&void 0!==t?t:""})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"view",type:"button",variant:"plain",onClick:b,children:[" ",Object(T.jsx)(W.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"edit",type:"button",variant:"plain",isDisabled:!0,children:[" ",Object(T.jsx)(S.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"delete",type:"button",variant:"plain",isDisabled:!0,children:[Object(T.jsx)(q.a,{})," "]})})]},e.id)}))})]})]})})},se=a(26),ue=a(696),de=a(672),pe=a(697),me=a(673),be=a(698),je=function(e){var t,a=o.a.useState(null!==(t=e.initialEventType)&&void 0!==t?t:{}),n=Object(p.a)(a,2),i=n[0],l=n[1],r=function(e,t){var a=t.target;l((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(se.a)({},a.name,a.value))}))},c=o.a.useCallback((function(){e.onSubmit(i)}),[i,e]);return o.a.useEffect((function(){var t;l(null!==(t=e.initialEventType)&&void 0!==t?t:{})}),[e.initialEventType]),Object(T.jsx)(o.a.Fragment,{children:Object(T.jsx)(ie.a,{variant:ie.b.medium,title:"".concat(e.isEdit?"Update":"Create"," Event Type for ").concat(e.applicationName),isOpen:e.showModal,onClose:e.onClose,children:Object(T.jsxs)(le.a,{isHorizontal:!0,children:[Object(T.jsx)(ue.a,{label:"Name",fieldId:"name",isRequired:!0,helperText:e.isEdit?Object(T.jsx)(de.a,{children:Object(T.jsx)(pe.a,{variant:"warning",hasIcon:!0,children:"If this field is modified it may affect exisiting behavior."})}):"This is a short name, only composed of a-z 0-9 and - characters.",children:Object(T.jsx)(me.a,{type:"text",value:i.name,onChange:r,id:"name",name:"name"})}),Object(T.jsx)(ue.a,{label:"Display name",fieldId:"display-name",isRequired:!0,helperText:"This is the name you want to display on the UI",children:Object(T.jsx)(me.a,{type:"text",value:i.displayName,onChange:r,id:"display-name",name:"displayName"})}),Object(T.jsx)(ue.a,{label:"Description",fieldId:"description",helperText:"Optional short description that appears in the UI to help admin decide how to notify users.",children:Object(T.jsx)(be.a,{type:"text",value:i.description,onChange:r,id:"description",name:"description"})}),Object(T.jsxs)(re.a,{children:[Object(T.jsx)(G.a,{variant:"primary",type:"submit",isLoading:e.isLoading,isDisabled:e.isLoading,onClick:c,children:e.isEdit?"Update":"Submit"}),Object(T.jsx)(G.a,{variant:"link",type:"reset",onClick:e.onClose,children:"Cancel"})]})]})})})},ye=function(e){var t=o.a.useState(!0),a=Object(p.a)(t,2),n=a[0],i=a[1],l=o.a.useCallback(Object(C.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.onDelete,t.next=3,a();case 3:t.sent?e.onClose():alert("Could not delete event type, please try again.");case 5:case"end":return t.stop()}}),t)}))),[e]);return Object(T.jsx)(o.a.Fragment,{children:Object(T.jsxs)(ie.a,{variant:ie.b.small,titleIconVariant:"warning",isOpen:e.isOpen,onClose:e.onClose,title:"Permanently delete ".concat(e.eventTypeName),children:[Object(T.jsx)("b",{children:e.eventTypeName})," ","from  ".concat(e.applicationName,"/").concat(e.bundleName?e.bundleName:Object(T.jsx)(_.a,{})," will be deleted. \n                        If an application is currently sending this event, it will no longer be processed."),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Type ",Object(T.jsx)("b",{children:e.eventTypeName})," to confirm:",Object(T.jsx)("br",{}),Object(T.jsx)(me.a,{type:"text",onChange:function(t,a){var n=a.target;return n.value!==e.eventTypeName?i(!0):n.value===e.eventTypeName?i(!1):void 0},id:"name",name:"name",isRequired:!0}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsxs)(re.a,{children:[Object(T.jsx)(G.a,{variant:"danger",type:"button",isDisabled:n,onClick:l,children:"Delete"}),Object(T.jsx)(G.a,{variant:"link",type:"button",onClick:e.onClose,children:"Cancel"})]})]})})},_e=a(418),ve=["href"],he=function(e){var t=e.href,a=Object(_e.a)(e,ve);return Object(T.jsx)(d.b,Object(z.a)(Object(z.a)({to:t},a),{},{children:e.children}))},fe=function(e){return Object(T.jsx)(P.a,Object(z.a)(Object(z.a)({},e),{},{component:he,children:e.children}))},Oe=function(e){return void 0===e.id?i.InternalResourceCreateEventType.actionCreator({body:{id:e.id,application_id:e.applicationId,description:e.description,display_name:e.displayName,name:e.name}}):i.InternalResourceUpdateEventType.actionCreator({eventTypeId:e.id,body:{id:e.id,application_id:e.applicationId,description:e.description,display_name:e.displayName,name:e.name}})},Ee=function(e){return i.InternalResourceDeleteEventType.actionCreator({eventTypeId:e})},ge=function(e){return i.InternalResourceGetBundle.actionCreator({bundleId:e})},xe=a(674),Re=a(675),Te=function(e){var t=J(),a=o.a.useState(Object(z.a)({},e.initialApplication)),n=Object(p.a)(a,2),i=n[0],l=n[1],r=function(e,t){var a=t.target;l((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(se.a)({},a.name,a.value))}))},c=o.a.useCallback((function(){e.onSubmit(i)}),[i,e]);return o.a.useEffect((function(){void 0===i.ownerRole&&t.roles.length>0&&l((function(e){return Object(z.a)(Object(z.a)({},e),{},{ownerRole:t.roles[0]})}))}),[t.roles,i.ownerRole]),Object(T.jsx)(o.a.Fragment,{children:Object(T.jsx)(ie.a,{variant:ie.b.medium,title:"".concat(e.isEdit?"Update ".concat(e.applicationName):"Create Application"," for ").concat(e.bundleName),isOpen:e.showModal,onClose:e.onClose,children:Object(T.jsxs)(le.a,{isHorizontal:!0,children:[Object(T.jsx)(ue.a,{label:"Name",fieldId:"name",isRequired:!0,helperText:e.isEdit?Object(T.jsx)(de.a,{children:Object(T.jsx)(pe.a,{variant:"warning",hasIcon:!0,children:"If this field is modified it may affect exisiting behavior."})}):"This is a short name, only composed of a-z 0-9 and - characters.",children:Object(T.jsx)(me.a,{type:"text",value:i.name,onChange:r,id:"name",name:"name"})}),Object(T.jsx)(ue.a,{label:"Display name",fieldId:"display-name",isRequired:!0,helperText:"This is the name you want to display on the UI",children:Object(T.jsx)(me.a,{type:"text",value:i.displayName,onChange:r,id:"display-name",name:"displayName"})}),!e.isEdit&&Object(T.jsx)(ue.a,{fieldId:"role-name",label:"Role admin",isRequired:!0,helperText:"Role of users who will manage the application",children:t.isAdmin?Object(T.jsx)(me.a,{type:"text",onChange:r,value:i.ownerRole,id:"owner-role",name:"ownerRole"}):Object(T.jsx)(xe.a,{value:i.ownerRole,onChange:r,id:"owner-role",name:"ownerRole",children:t.roles.map((function(e){return Object(T.jsx)(Re.a,{label:e,value:e},e)}))})}),Object(T.jsxs)(re.a,{children:[Object(T.jsx)(G.a,{variant:"primary",type:"submit",isLoading:e.isLoading,isDisabled:e.isLoading,onClick:c,children:e.isEdit?"Update":"Submit"}),Object(T.jsx)(G.a,{variant:"link",type:"reset",onClick:e.onClose,children:"Cancel"})]})]})})})},we=function(e){var t=o.a.useState(!0),a=Object(p.a)(t,2),n=a[0],i=a[1],l=o.a.useCallback(Object(C.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.onDelete,t.next=3,a();case 3:t.sent?e.onClose():alert("Could not delete application, please try again.");case 5:case"end":return t.stop()}}),t)}))),[e]);return Object(T.jsx)(o.a.Fragment,{children:Object(T.jsxs)(ie.a,{variant:ie.b.small,titleIconVariant:"warning",isOpen:e.isOpen,onClose:e.onClose,title:"Permanently delete ".concat(e.applicationName),children:[Object(T.jsx)("b",{children:e.applicationName})," ","from ".concat(e.bundleName?e.bundleName:Object(T.jsx)(_.a,{})," will be deleted. \n                        By deleting this application all associated event types will be deleted and no longer processed. "),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Type ",Object(T.jsx)("b",{children:e.applicationName})," to confirm:",Object(T.jsx)("br",{}),Object(T.jsx)(me.a,{type:"text",onChange:function(t,a){var n=a.target;return n.value!==e.applicationName?i(!0):n.value===e.applicationName?i(!1):void 0},id:"name",name:"name",isRequired:!0}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsxs)(re.a,{children:[Object(T.jsx)(G.a,{variant:"danger",type:"button",isDisabled:n,onClick:l,children:"Delete"}),Object(T.jsx)(G.a,{variant:"link",type:"button",onClick:e.onClose,children:"Cancel"})]})]})})},Ie=function(e){return void 0===e.id?i.InternalResourceCreateApplication.actionCreator({body:{bundle_id:e.bundleId,display_name:e.displayName,name:e.name,owner_role:e.ownerRole}}):i.InternalResourceUpdateApplication.actionCreator({appId:e.id,body:{id:e.id,bundle_id:e.bundleId,display_name:e.displayName,name:e.name}})},Ve=function(e){return i.InternalResourceDeleteApplication.actionCreator({appId:e})},Ce=Object(Y.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,bundleId:e.bundle_id,name:e.name}}));return Object(Y.validatedResponse)("Applications",200,t,e.errors)}return e})),Ae=Object(Y.validationResponseTransformer)((function(e){if(200===e.status){var t,a={id:null!==(t=e.value.id)&&void 0!==t?t:"",displayName:e.value.display_name,applications:[]};return Object(Y.validatedResponse)("Bundle",200,a,e.errors)}return e})),Pe=a(676),Ne=a(677),Be="\nImportant email to {user.firstName} from MyCoolApp!\n".trimLeft(),ke='\n<div>Hello {user.firstName} {user.lastName},</div>\n<div>We have some important news for you, MyApp has a notification for you</div>\n<div>As a reminder, current user: {user.username}: is active? {user.isActive}; is admin? {user.isAdmin}</div>\n<div>\n    System with name <strong>{action.context.display_name}</strong> (<strong>{action.context.inventory_id}</strong>) \n    did a check in at {action.context.system_check_in.toUtcFormat()}. \n    It was about {action.context.system_check_in.toTimeAgo()}\n</div>\n<div>This is a loop:</div>\n{#if action.events.size() > 0}\n<ul>\n    {#each action.events}\n        <li>\n            <a href="http://google.com?q={it.payload.my_id}" target="_blank">{it.payload.my_name}</a>\n        </li>\n    {/each}\n</ul>\n<div>Have a nice day!</div>\n{/if}\n'.trimLeft(),Ge=JSON.stringify({bundle:"rhel",application:"policies",event_type:"policy-triggered",timestamp:"2021-08-05T16:21:14.243",account_id:"5758117",context:'{"inventory_id":"80f7e57d-a16a-4189-82af-1d68a747c8b3","system_check_in":"2021-08-05T16:21:12.953036","display_name":"cool display name"}',events:[{metadata:{},payload:'{"my_id":"3df53241-3e09-481b-a322-4892caaaaadc","my_name":"Red color"}'},{metadata:{},payload:'{"my_id":"6c5e8451-a40a-4bb7-ab9a-0cb10a4c577d","my_name":"Green color"}'},{metadata:{},payload:'{"my_id":"b4c6378a-c1fb-4d3e-8e9b-7e5bdfc09dd3","my_name":"Blue color"}'}]},null,2),Se=a(678),qe=a(679),De=a(681),Le=a(682),Me=a(248),Ue=a(680),Fe=JSON.stringify({},null,2),He=function(e){var t=Object.keys(e).sort(),a=[];return t.forEach((function(t){e[t].forEach((function(e){return a.push(e)}))})),Object(T.jsx)(Se.a,{children:a.map((function(e,t){return Object(T.jsx)(qe.a,{children:e},t)}))})},ze=function(e){return i.TemplateResourceRenderEmailTemplate.actionCreator({body:{subject_template:e.subject,body_template:e.body,payload:e.payload}})},Qe="\nImportant email to {user.firstName} from MyCoolApp!\n".trimLeft(),Je='\n<div>Hello {user.firstName} {user.lastName},</div>\n<div>We have some important news for you, MyApp has a notification for you</div>\n<div>As a reminder, current user: {user.username}: is active? {user.isActive}; is admin? {user.isAdmin}</div>\n<div>\n    System with name <strong>{action.context.display_name}</strong> (<strong>{action.context.inventory_id}</strong>) \n    did a check in at {action.context.system_check_in.toUtcFormat()}. \n    It was about {action.context.system_check_in.toTimeAgo()}\n</div>\n<div>This is a loop:</div>\n{#if action.events.size() > 0}\n<ul>\n    {#each action.events}\n        <li>\n            <a href="http://google.com?q={it.payload.my_id}" target="_blank">{it.payload.my_name}</a>\n        </li>\n    {/each}\n</ul>\n<div>Have a nice day!</div>\n{/if}\n'.trimLeft(),We=JSON.stringify({bundle:"rhel",application:"policies",event_type:"policy-triggered",timestamp:"2021-08-05T16:21:14.243",account_id:"5758117",context:'{"inventory_id":"80f7e57d-a16a-4189-82af-1d68a747c8b3","system_check_in":"2021-08-05T16:21:12.953036","display_name":"cool display name"}',events:[{metadata:{},payload:'{"my_id":"3df53241-3e09-481b-a322-4892caaaaadc","my_name":"Red color"}'},{metadata:{},payload:'{"my_id":"6c5e8451-a40a-4bb7-ab9a-0cb10a4c577d","my_name":"Green color"}'},{metadata:{},payload:'{"my_id":"b4c6378a-c1fb-4d3e-8e9b-7e5bdfc09dd3","my_name":"Blue color"}'}]},null,2),Ye=function(e){return e.isLoading?Object(T.jsx)(_.a,{}):e.succeeded?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Le.a,{children:Object(T.jsxs)("span",{children:[Object(T.jsx)("strong",{children:"Subject:"})," ",e.subject]})}),Object(T.jsx)(Le.a,{children:Object(T.jsx)("strong",{children:"Body:"})}),Object(T.jsx)(Le.a,{children:Object(T.jsx)("iframe",{width:"100%",srcDoc:e.body})})]}):Object(T.jsx)(Le.a,{children:Object(T.jsx)(de.a,{children:Object(T.jsx)(pe.a,{variant:"error",children:e.error})})})},$e={bundle:function(e){return"/bundle/".concat(e)},application:function(e){return"/application/".concat(e)},aggregation:function(){return"/aggregation"},email:function(){return"/email"},emailTemplates:function(){return"/emailTemplates"},messageValidator:function(){return"/utils/message-validator"}},Ke=[{path:$e.aggregation(),component:function(){var e=r.useCallback((function(e,t){e.layout(),e.focus(),t.editor.getModels()[0].updateOptions({tabSize:5})}),[]),t=r.useCallback((function(e){}),[]),a=Object(r.useMemo)((function(){return[Object(T.jsx)(E.a,{icon:Object(T.jsx)(R.a,{}),toolTipText:"Test aggregation",onClick:function(){return console.log("testing")},isVisible:!0},"test")]}),[]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Aggregation templates"})}),Object(T.jsx)(y.a,{children:Object(T.jsx)(g.a,{isDownloadEnabled:!0,isUploadEnabled:!0,customControls:a,isLineNumbersVisible:!0,isLanguageLabelVisible:!0,isMinimapVisible:!1,language:g.b.javascript,onEditorDidMount:e,onChange:t,code:w,height:"300px"})})]})}},{path:$e.application(":applicationId"),component:function(){var e,t,a,n,i,l,o=J(),c=o.hasPermission,s=o.isAdmin,d=Object(O.g)().applicationId,m=ae(d),b=X(d),j=Object(u.useMutation)(Ee),v=Object(u.useMutation)(Oe),h=r.useState({}),f=Object(p.a)(h,2),E=f[0],g=f[1],R=r.useState(!1),w=Object(p.a)(R,2),I=w[0],z=w[1],Q=r.useState(!1),W=Object(p.a)(Q,2),Y=W[0],$=W[1],K=r.useState(!1),Z=Object(p.a)(K,2),ee=Z[0],te=Z[1],ne=r.useMemo((function(){var e;if("Application"===(null===(e=b.payload)||void 0===e?void 0:e.type))return b.payload.value.bundleId}),[b.payload]),ie=Object(u.useParameterizedQuery)(ge);r.useEffect((function(){var e=ie.query;ne&&e(ne)}),[ne,ie.query]);var le=Object(r.useMemo)((function(){var e;if(200===(null===(e=ie.payload)||void 0===e?void 0:e.status))return ie.payload.value}),[null===(e=ie.payload)||void 0===e?void 0:e.status,null===(t=ie.payload)||void 0===t?void 0:t.value]),re=Object(r.useMemo)((function(){var e;if(200===(null===(e=b.payload)||void 0===e?void 0:e.status))return b.payload.value}),[null===(a=b.payload)||void 0===a?void 0:a.status,null===(n=b.payload)||void 0===n?void 0:n.value]),oe=r.useCallback((function(e){var t,a,n;z(!1),(0,v.mutate)({id:e.id,displayName:null!==(t=e.displayName)&&void 0!==t?t:"",name:null!==(a=e.name)&&void 0!==a?a:"",description:null!==(n=e.description)&&void 0!==n?n:"",applicationId:d}).then(m.query)}),[d,m.query,v.mutate]),se=r.useCallback(Object(C.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!1),t=j.mutate,e.next=4,t(E.id);case 4:if(!e.sent.error){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),[j.mutate,E.id]);return m.loading?Object(T.jsx)(_.a,{}):200!==(null===(i=m.payload)||void 0===i?void 0:i.status)?Object(T.jsxs)("span",{children:["Error while loading eventtypes: ",m.errorObject.toString()]}):Object(T.jsxs)(r.Fragment,{children:[Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h1",children:Object(T.jsxs)(A.a,{children:[Object(T.jsx)(P.a,{target:"#",children:" Bundles "}),Object(T.jsx)(fe,{to:$e.bundle(null!==ne&&void 0!==ne?ne:""),children:le?le.display_name:Object(T.jsx)(_.a,{})}),Object(T.jsxs)(P.a,{to:"#",isActive:!0,children:[" ",b.loading||200!==(null===(l=b.payload)||void 0===l?void 0:l.status)?Object(T.jsx)(_.a,{}):b.payload.value.displayName]})]})}),Object(T.jsxs)(D.a,{"aria-label":"Event types table",children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(N.a,{children:Object(T.jsx)(B.a,{children:Object(T.jsxs)(k.a,{children:[Object(T.jsx)(G.a,{variant:"primary",type:"button",isDisabled:!re||!c(null===re||void 0===re?void 0:re.id),onClick:function(){z(!0),$(!1),g({})},children:" Create Event Type "}),Object(T.jsx)(je,{isEdit:Y,initialEventType:E,showModal:I,applicationName:null===re||void 0===re?void 0:re.displayName,onClose:function(){z(!1),m.query()},onSubmit:oe,isLoading:m.loading}),Object(T.jsx)(r.Fragment,{children:Object(T.jsx)(ye,{onDelete:se,isOpen:ee,onClose:function(){te(!1),m.query()},eventTypeName:E.name,applicationName:null===re||void 0===re?void 0:re.displayName,bundleName:null===le||void 0===le?void 0:le.display_name})})]})})}),Object(T.jsx)(M.a,{children:["Event Type","Name","Description","Event Type Id"].map((function(e,t){return Object(T.jsx)(U.a,{children:e},t)}))})]}),Object(T.jsx)(F.a,{children:0===m.payload.value.length?"There are no event types found for this application":""}),Object(T.jsx)(F.a,{children:m.payload.value.map((function(e){return Object(T.jsxs)(M.a,{children:[Object(T.jsx)(H.a,{children:e.displayName}),Object(T.jsx)(H.a,{children:e.name}),Object(T.jsx)(H.a,{children:e.description}),Object(T.jsx)(H.a,{children:e.id}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"edit",type:"button",variant:"plain",isDisabled:!re||!c(null===re||void 0===re?void 0:re.id),onClick:function(){return function(e){z(!0),$(!0),g(e)}(e)},children:[" ",Object(T.jsx)(S.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"delete",type:"button",variant:"plain",isDisabled:!re||!c(null===re||void 0===re?void 0:re.id),onClick:function(){return function(e){te(!0),g(e)}(e)},children:[Object(T.jsx)(q.a,{})," "]})})]},e.id)}))})]})]}),s&&Object(T.jsx)(ce,{})]})}},{path:$e.bundle(":bundleId"),component:function(){var e,t,a,n,l=J(),o=l.hasPermission,c=l.refresh,s=l.isAdmin,m=Object(O.g)().bundleId,b=function(e){var t=Object(u.useQuery)(i.InternalResourceGetBundle.actionCreator({bundleId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return Ae(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])}(m),j=function(e){var t=Object(u.useQuery)(i.InternalResourceGetApplications.actionCreator({bundleId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return Ce(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])}(m),v=Object(u.useMutation)(Ie),h=Object(u.useMutation)(Ve),f=r.useState({}),E=Object(p.a)(f,2),g=E[0],R=E[1],w=r.useState(!1),I=Object(p.a)(w,2),Q=I[0],W=I[1],Y=r.useState(!1),$=Object(p.a)(Y,2),K=$[0],X=$[1],Z=r.useState(!1),ee=Object(p.a)(Z,2),te=ee[0],ae=ee[1],ie=r.useMemo((function(){var e;if(200===(null===(e=b.payload)||void 0===e?void 0:e.status))return b.payload.value}),[null===(e=b.payload)||void 0===e?void 0:e.status,null===(t=b.payload)||void 0===t?void 0:t.value]),le=r.useCallback((function(e){var t,a;W(!1),(0,v.mutate)({id:e.id,displayName:null!==(t=e.displayName)&&void 0!==t?t:"",name:null!==(a=e.name)&&void 0!==a?a:"",bundleId:m,ownerRole:e.ownerRole}).then((function(e){var t;return 200!==(null===(t=e.payload)||void 0===t?void 0:t.status)||s||c(),e})).then(j.query)}),[m,j.query,v.mutate,s,c]),re=r.useCallback(Object(C.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!1),t=h.mutate,e.next=4,t(g.id);case 4:if(!e.sent.error){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),[g.id,h.mutate]);return j.loading?Object(T.jsx)(_.a,{}):200!==(null===(a=j.payload)||void 0===a?void 0:a.status)?Object(T.jsxs)("span",{children:["Error while loading applications: ",j.errorObject.toString()]}):Object(T.jsx)(r.Fragment,{children:Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h1",children:Object(T.jsxs)(A.a,{children:[Object(T.jsx)(P.a,{target:"#",children:" Bundles "}),Object(T.jsx)(P.a,{target:"#",children:b.loading||200!==(null===(n=b.payload)||void 0===n?void 0:n.status)?Object(T.jsx)(_.a,{}):b.payload.value.displayName})]})}),Object(T.jsxs)(D.a,{"aria-label":"Applications table",children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(N.a,{children:Object(T.jsx)(B.a,{children:Object(T.jsxs)(k.a,{children:[Object(T.jsx)(G.a,{variant:"primary",type:"button",onClick:function(){W(!0),ae(!1),R({})},children:" Create Application "}),Q&&Object(T.jsx)(Te,{isEdit:te,bundleName:null===ie||void 0===ie?void 0:ie.displayName,initialApplication:g,showModal:Q,applicationName:g.displayName,onClose:function(){W(!1),R({}),j.query()},onSubmit:le,isLoading:j.loading}),Object(T.jsx)(r.Fragment,{children:Object(T.jsx)(we,{onDelete:re,isOpen:K,onClose:function(){X(!1),j.query()},applicationName:g.displayName,bundleName:null===ie||void 0===ie?void 0:ie.displayName})})]})})}),Object(T.jsx)(M.a,{children:["Application","Name","Event Types","Application Id"].map((function(e,t){return Object(T.jsx)(U.a,{children:e},t)}))})]}),Object(T.jsx)(F.a,{children:j.payload.value.map((function(e){return Object(T.jsxs)(M.a,{children:[Object(T.jsx)(H.a,{children:Object(T.jsx)(G.a,{variant:"link",component:function(t){return Object(T.jsx)(d.b,Object(z.a)(Object(z.a)({},t),{},{to:$e.application(e.id)}))},children:e.displayName})}),Object(T.jsx)(H.a,{children:e.name}),Object(T.jsx)(H.a,{children:Object(T.jsx)(ne,{appId:e.id})}),Object(T.jsx)(H.a,{children:e.id}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"edit",type:"button",variant:"plain",isDisabled:!o(e.id),onClick:function(){return function(e){W(!0),ae(!0),R(e)}(e)},children:[" ",Object(T.jsx)(S.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"delete",type:"button",variant:"plain",isDisabled:!s,onClick:function(){return function(e){X(!0),R(e)}(e)},children:[Object(T.jsx)(q.a,{})," "]})})]},e.id)}))})]})]})})}},{path:$e.email(),component:function(){var e,t,a,n=Object(u.useMutation)(ze),i=r.useState(Qe),l=Object(p.a)(i,2),o=l[0],c=l[1],s=r.useState(Je),d=Object(p.a)(s,2),m=d[0],b=d[1],j=r.useState(We),_=Object(p.a)(j,2),v=_[0],h=_[1];if(r.useEffect((function(){(0,n.mutate)({subject:null!==o&&void 0!==o?o:"",body:null!==m&&void 0!==m?m:"",payload:null!==v&&void 0!==v?v:""})}),[]),n.loading)a={isLoading:!0};else if(200===(null===(e=n.payload)||void 0===e?void 0:e.status)){var f,O;a={isLoading:!1,succeeded:!0,subject:null!==(f=n.payload.value.subject)&&void 0!==f?f:"",body:null!==(O=n.payload.value.body)&&void 0!==O?O:""}}else if(400===(null===(t=n.payload)||void 0===t?void 0:t.status)){var E;a={isLoading:!1,succeeded:!1,error:null!==(E=n.payload.value.message)&&void 0!==E?E:"Unknown error"}}else a={isLoading:!1,succeeded:!1,error:"Unknown error"};var R=r.useCallback((function(){(0,n.mutate)({subject:null!==o&&void 0!==o?o:"",body:null!==m&&void 0!==m?m:"",payload:null!==v&&void 0!==v?v:""})}),[n.mutate,o,m,v]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsxs)(Pe.a,{children:[Object(T.jsx)(Ne.a,{isFilled:!0,children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Email templates"})}),Object(T.jsx)(Ne.a,{children:Object(T.jsx)(G.a,{onClick:R,children:"Render"})})]})}),Object(T.jsx)(y.a,{children:Object(T.jsxs)(De.a,{children:[Object(T.jsx)(Le.a,{children:Object(T.jsx)(x.a,{headingLevel:"h2",children:"Result"})}),Object(T.jsx)(Ye,Object(z.a)({},a))]})}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Subject template"}),Object(T.jsx)(g.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:Qe,height:"50px",onChange:c})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Body template"}),Object(T.jsx)(g.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:Je,height:"300px",onChange:b})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Payload"}),Object(T.jsx)(g.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:We,height:"300px",isLanguageLabelVisible:!0,language:g.b.json,onChange:h})]})]})}},{path:$e.emailTemplates(),component:function(){var e=J().isAdmin,t=r.useCallback((function(){history.back()}),[]);return Object(T.jsx)(T.Fragment,{children:e&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsx)(Pe.a,{children:Object(T.jsx)(Ne.a,{isFilled:!0,children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Create an Email Template"})})})}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Subject template"}),Object(T.jsx)(g.a,{isLineNumbersVisible:!0,code:Be,isMinimapVisible:!1,height:"50px"})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Body template"}),Object(T.jsx)(g.a,{isLineNumbersVisible:!0,code:ke,isMinimapVisible:!1,height:"300px"})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Payload"}),Object(T.jsx)(g.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:Ge,height:"300px",isLanguageLabelVisible:!0,language:g.b.json})]}),Object(T.jsx)(y.a,{children:Object(T.jsx)(re.a,{children:Object(T.jsxs)(Pe.a,{hasGutter:!0,children:[Object(T.jsx)(Ne.a,{children:Object(T.jsx)(G.a,{variant:"primary",type:"submit",children:"Submit"})}),Object(T.jsx)(Ne.a,{children:Object(T.jsx)(G.a,{variant:"secondary",type:"reset",onClick:t,children:"Back"})})]})})})]})})}},{path:$e.messageValidator(),component:function(){var e,t,a=Object(u.useParameterizedQuery)(i.ValidationResourceValidateMessage.actionCreator),n=r.useState(Fe),l=Object(p.a)(n,2),o=l[0],c=l[1],s=r.useState(),d=Object(p.a)(s,2),m=d[0],b=d[1],j=r.useCallback(Object(C.a)(V.a.mark((function e(){var t,n,i,l;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,i=JSON.parse(o),e.next=9;break;case 4:return e.prev=4,e.t0=e.catch(0),console.log(e.t0),b({errors:{$:["Not a valid json: "+e.t0.message]},code:o}),e.abrupt("return");case 9:return e.next=11,a.query({body:i});case 11:l=e.sent,200===(null===(t=l.payload)||void 0===t?void 0:t.status)?b({errors:{},code:o}):400===(null===(n=l.payload)||void 0===n?void 0:n.status)&&b({errors:l.payload.value.errors,code:o});case 13:case"end":return e.stop()}}),e,null,[[0,4]])}))),[a,o]),_=Object(T.jsx)(E.a,{icon:Object(T.jsx)(Me.a,{color:Ue.a.value}),toolTipText:"Validates the message",onClick:j});return(null===m||void 0===m?void 0:m.code)===o?0===Object.keys(m.errors).length?(e=h.b.success,t="Message is valid"):(e=h.b.danger,t=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:"Message is invalid:"}),He(m.errors)]})):(e=h.b.warning,t=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:"Message has not been validated. Use the validation button"}),(null===m||void 0===m?void 0:m.errors)&&Object.keys(m.errors).length>0&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:"Previous errors:"}),He(m.errors)]})]})),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsxs)(De.a,{children:[Object(T.jsx)(Le.a,{isFilled:!0,children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Notification validator"})}),Object(T.jsx)(Le.a,{children:Object(T.jsx)("span",{children:"You can use this utility to verify the notification you are sending is valid and tweak as needed."})})]})}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(h.a,{isInline:!0,title:t,variant:e}),Object(T.jsx)(g.a,{showEditor:!0,isUploadEnabled:!0,isDownloadEnabled:!0,isCopyEnabled:!0,isMinimapVisible:!1,customControls:_,code:o,height:"500px",isLanguageLabelVisible:!0,language:g.b.json,onChange:c})]})]})}}],Xe=function(e){return Object(T.jsxs)(O.d,{children:[Ke.map((function(e){return Object(T.jsx)(O.b,{component:e.component,path:e.path},e.path)})),Object(T.jsx)(O.a,{to:$e.aggregation()})]})},Ze=a(4),et=a(416),tt=a(692),at=a(683),nt=a(230),it=a(699),lt=a(684),rt=function(e){var t=Object(O.h)({path:e.to,exact:!0});return Object(T.jsx)(at.a,{isActive:!!t,children:Object(T.jsx)(d.b,{to:e.to,children:e.children})})},ot=function(e){return Object(T.jsx)(nt.a,{children:Object(T.jsxs)(it.a,{children:[Object(T.jsx)(lt.a,{title:"Bundles",children:e.bundles.map((function(e){return Object(T.jsx)(rt,{to:$e.bundle(e.id),children:e.displayName},e.id)}))}),Object(T.jsx)(lt.a,{title:"Utils",isExpanded:!0,children:Object(T.jsx)(rt,{to:$e.messageValidator(),children:"Notification validator"})}),Object(T.jsx)(rt,{to:$e.email(),children:"Email templates"}),Object(T.jsx)(rt,{to:$e.aggregation(),children:"Aggregation"})]})})},ct=a.p+"static/media/redhat-logo.f7405300.svg",st=Object(f.a)({width:150}),ut=function(){var e=o.a.useState(!0),t=Object(p.a)(e,2),a=t[0],n=t[1],l=o.a.useCallback((function(){return n((function(e){return!e}))}),[n]),c=function(){var e=Object(u.useClient)(),t=Object(tt.a)(),a=Object(r.useState)([]),n=Object(p.a)(a,2),l=n[0],o=n[1],c=Object(r.useState)(),s=Object(p.a)(c,2),d=s[0],m=s[1],b=Object(r.useCallback)(Object(C.a)(V.a.mark((function a(){var n,l,r,c,s,u,d,p,b,j;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l=e.query,m(!0),a.next=4,l(i.InternalResourceGetBundles.actionCreator());case 4:if(r=a.sent,200!==(null===(n=r.payload)||void 0===n?void 0:n.status)){a.next=18;break}c=r.payload.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,applications:[]}})),s=[],u=Object(Ze.a)(r.payload.value);try{for(u.s();!(d=u.n()).done;)(p=d.value).id&&s.push(l(i.InternalResourceGetApplications.actionCreator({bundleId:p.id})))}catch(y){u.e(y)}finally{u.f()}return a.next=12,Promise.all(s);case 12:return b=a.sent,j=b.map((function(e){return e.payload})).reduce((function(e,t){return Object(et.a)(e,(function(e){if(200===(null===t||void 0===t?void 0:t.status)){var a=e.find((function(e){return t.value.length>0&&e.id===t.value[0].bundle_id}));a&&(a.applications=t.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,name:e.name,bundleId:e.bundle_id}})))}}))}),c),a.next=16,t(Promise.resolve((function(){return o(j)})));case 16:a.t0=a.sent,(0,a.t0)();case 18:m(!1);case 19:case"end":return a.stop()}}),a)}))),[e.query,t]);return Object(r.useEffect)((function(){b()}),[b]),{bundles:l,isLoading:d}}(),s=Object(u.useQuery)(i.InternalResourceGetServerInfo.actionCreator()),d=Object(r.useMemo)((function(){var e=s.payload;return 200===(null===e||void 0===e?void 0:e.status)?"PROD"===e.value.environment?{show:!0,content:"You are viewing the production environment - Any change you make here will be applied immediately and could disrupt the service."}:{show:!1}:{show:!0,content:"Could not load the current environment. Please verify the URL before making any change."}}),[s.payload]),f=Object(u.useQuery)(i.InternalPermissionResourceGetPermissions.actionCreator()),O=Object(T.jsx)(m.a,{showNavToggle:!0,logo:Object(T.jsx)(b.a,{className:st,src:ct,alt:"Red Hat"}),logoProps:{href:"/internal"},isNavOpen:a,onNavToggle:l}),E=o.a.useMemo((function(){var e=f.payload;return 200===(null===e||void 0===e?void 0:e.status)?{isAdmin:e.value.is_admin,applications:e.value.applications.map((function(e){return{id:e.id,displayName:e.display_name}})),roles:e.value.roles,refresh:f.query}:{isAdmin:!1,applications:[],roles:[],refresh:f.query}}),[f.payload,f.query]);if(c.isLoading||s.loading||f.loading)return Object(T.jsx)(j.a,{header:O,children:Object(T.jsx)(y.a,{children:Object(T.jsx)(_.a,{})})});var g=Object(T.jsx)(v.a,{nav:Object(T.jsx)(ot,{bundles:c.bundles}),isNavOpen:a});return Object(T.jsx)(Q.Provider,{value:E,children:Object(T.jsxs)(j.a,{sidebar:g,header:O,children:[d.show&&Object(T.jsx)(y.a,{children:Object(T.jsx)(h.a,{variant:h.b.warning,title:d.content})}),Object(T.jsx)(Xe,{})]})})},dt=Object(u.createClient)({responseInterceptors:[l.validateSchemaResponseInterceptor]});s.a.render(Object(T.jsx)(r.StrictMode,{children:Object(T.jsx)(d.a,{children:Object(T.jsx)(u.ClientContextProvider,{client:dt,children:Object(T.jsx)(ut,{})})})}),document.getElementById("root"))}},[[639,1,2]]]);
//# sourceMappingURL=main.edaa7fd5.chunk.js.map