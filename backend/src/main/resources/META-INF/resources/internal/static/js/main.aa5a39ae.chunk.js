(this.webpackJsonpinternal=this.webpackJsonpinternal||[]).push([[0],{431:function(e,t,a){},642:function(e,t,a){"use strict";a.r(t);a(332);var n,i,l=a(59),r=a(6),o=a.n(r),c=a(134),s=a.n(c),u=a(85),d=a(180),p=a(15),m=(a(431),a(705)),b=a(690),j=a(322),y=a(662),_=a(421),v=a(254),h=a(695),f=a(419),O=a(103),g=a(659),E=a(691),x=a(663),R=a(661),T=a(18),w="\n// Here we can initialize the value of the Aggregation result.\nconst result = {\n};\n\n// This function will be called by every action that was sent to notification server\n// to update the result with its values.\nconst aggregate = (action) => {\n\n    return result;\n};\n".trimLeft(),I=a(8),V=a.n(I),C=a(179),A=a(664),P=a(665),N=a(698),B=a(699),k=a(284),G=a(199),S=a(675),q=a(676),D=a(696),L=a(671),M=a(672),U=a(693),F=a(673),H=a(692),z=a(74),Q=r.createContext({isAdmin:!1,applications:[],roles:[],refresh:function(){throw new Error("Invalid use of refresh")}}),J=function(){var e=Object(r.useContext)(Q),t=Object(r.useCallback)((function(t){return!!e.isAdmin||void 0!==e.applications.find((function(e){return e.id===t}))}),[e]);return Object(z.a)(Object(z.a)({},e),{},{hasPermission:t})},W=a(411),Y=a(666),$=a(667),K=function(e){return Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h1",children:Object(T.jsx)(A.a,{children:Object(T.jsxs)(P.a,{target:"#",children:["Aggregation Email Template for ",e.applicationName]})})}),Object(T.jsxs)(W.a,{children:[Object(T.jsx)(Y.a,{children:"Application: ".concat(e.applicationName," ")}),Object(T.jsx)($.a,{children:"Bundle: ".concat(e.bundleName)}),Object(T.jsx)($.a,{children:"Aggregation Template: ".concat(Object(T.jsx)(d.b,{to:"",children:e.templateName}))})]})]})},X=a(674),Z=a(31),ee=a(30);!function(e){e.AddAccessRequest=ee.f({application_id:f().optional().nullable(),role:ee.h().optional().nullable()}).nonstrict(),e.AddApplicationRequest=ee.f({bundle_id:f(),display_name:ee.h(),name:ee.h(),owner_role:ee.h().optional().nullable()}).nonstrict(),e.AggregationEmailTemplate=ee.f({application:a().optional().nullable(),application_id:f().optional().nullable(),body_template:h().optional().nullable(),body_template_id:f(),created:ee.h().optional().nullable(),id:f().optional().nullable(),subject_template:h().optional().nullable(),subject_template_id:f(),subscription_type:s(),updated:ee.h().optional().nullable()}).nonstrict(),e.Application=t(),e.Application1=a(),e.BasicAuthentication=n(),e.BehaviorGroup=ee.f({actions:ee.a(i()).optional().nullable(),bundle:r().optional().nullable(),bundle_id:f(),created:ee.h().optional().nullable(),default_behavior:ee.b().optional().nullable(),display_name:ee.h(),id:f().optional().nullable(),updated:ee.h().optional().nullable()}).nonstrict(),e.BehaviorGroupAction=i(),e.BehaviorGroupActionId=l(),e.Bundle=r(),e.CamelProperties=o(),e.CurrentStatus=ee.f({end_time:ee.h().optional().nullable(),start_time:ee.h().optional().nullable(),status:v()}).nonstrict(),e.EmailSubscriptionProperties=c(),e.EmailSubscriptionType=s(),e.Endpoint=u(),e.EndpointPage=ee.f({data:ee.a(u()),links:ee.g(ee.h()),meta:_()}).nonstrict(),e.EndpointProperties=ee.j(),e.EndpointType=d(),e.Environment=p(),e.EventLogEntry=m(),e.EventLogEntryAction=b(),e.EventType=j(),e.Facet=function e(){return ee.f({children:ee.a(ee.d((function(){return e()}))).optional().nullable(),displayName:ee.h(),id:ee.h(),name:ee.h()}).nonstrict()}(),e.HttpType=y(),e.InstantEmailTemplate=ee.f({body_template:h().optional().nullable(),body_template_id:f(),created:ee.h().optional().nullable(),event_type:j().optional().nullable(),event_type_id:f().optional().nullable(),id:f().optional().nullable(),subject_template:h().optional().nullable(),subject_template_id:f(),updated:ee.h().optional().nullable()}).nonstrict(),e.InternalApplicationUserPermission=ee.f({application_display_name:ee.h(),application_id:f(),role:ee.h()}).nonstrict(),e.InternalRoleAccess=ee.f({application_id:f(),id:f().optional().nullable(),role:ee.h()}).nonstrict(),e.InternalUserPermissions=ee.f({applications:ee.a(t()),is_admin:ee.b(),roles:ee.a(ee.h())}).nonstrict(),e.MessageErrorValidationResponse=ee.f({errors:ee.g(ee.a(ee.h()))}).nonstrict(),e.Meta=_(),e.NotificationHistory=ee.f({created:ee.h().optional().nullable(),details:ee.g(ee.j()).optional().nullable(),endpointId:f().optional().nullable(),endpointSubType:ee.h().optional().nullable(),endpointType:d().optional().nullable(),id:f().optional().nullable(),invocationResult:ee.b(),invocationTime:ee.e().int()}).nonstrict(),e.PageEventLogEntry=ee.f({data:ee.a(m()),links:ee.g(ee.h()),meta:_()}).nonstrict(),e.PageEventType=ee.f({data:ee.a(j()),links:ee.g(ee.h()),meta:_()}).nonstrict(),e.RenderEmailTemplateRequest=ee.f({body_template:ee.h(),payload:ee.h(),subject_template:ee.h()}).nonstrict(),e.RequestDefaultBehaviorGroupPropertyList=ee.f({ignore_preferences:ee.b(),only_admins:ee.b()}).nonstrict(),e.RequestEmailSubscriptionProperties=ee.f({group_id:f().optional().nullable(),only_admins:ee.b()}).nonstrict(),e.ServerInfo=ee.f({environment:p().optional().nullable()}).nonstrict(),e.Status=v(),e.Template=h(),e.UUID=f(),e.WebhookProperties=O(),e.__Empty=ee.h().max(0).optional();function t(){return ee.f({display_name:ee.h(),id:f()}).nonstrict()}function a(){return ee.f({bundle_id:f(),created:ee.h().optional().nullable(),display_name:ee.h(),id:f().optional().nullable(),name:ee.h(),updated:ee.h().optional().nullable()}).nonstrict()}function n(){return ee.f({password:ee.h().optional().nullable(),username:ee.h().optional().nullable()}).nonstrict()}function i(){return ee.f({created:ee.h().optional().nullable(),endpoint:u().optional().nullable(),id:l().optional().nullable()}).nonstrict()}function l(){return ee.f({behaviorGroupId:f(),endpointId:f()}).nonstrict()}function r(){return ee.f({created:ee.h().optional().nullable(),display_name:ee.h(),id:f().optional().nullable(),name:ee.h(),updated:ee.h().optional().nullable()}).nonstrict()}function o(){return ee.f({basic_authentication:n().optional().nullable(),disable_ssl_verification:ee.b(),extras:ee.g(ee.h()).optional().nullable(),secret_token:ee.h().optional().nullable(),sub_type:ee.h().optional().nullable(),url:ee.h()}).nonstrict()}function c(){return ee.f({group_id:f().optional().nullable(),ignore_preferences:ee.b(),only_admins:ee.b()}).nonstrict()}function s(){return ee.c(["INSTANT","DAILY"])}function u(){return ee.f({created:ee.h().optional().nullable(),description:ee.h(),enabled:ee.b().optional().nullable(),id:f().optional().nullable(),name:ee.h(),properties:ee.i([O(),c(),o()]).optional().nullable(),sub_type:ee.h().optional().nullable(),type:d(),updated:ee.h().optional().nullable()}).nonstrict()}function d(){return ee.c(["webhook","email_subscription","default","camel"])}function p(){return ee.c(["PROD","STAGE","EPHEMERAL","LOCAL_SERVER"])}function m(){return ee.f({actions:ee.a(b()),application:ee.h(),bundle:ee.h(),created:ee.h(),event_type:ee.h(),id:f(),payload:ee.h().optional().nullable()}).nonstrict()}function b(){return ee.f({details:ee.g(ee.j()).optional().nullable(),endpoint_id:f().optional().nullable(),endpoint_sub_type:ee.h().optional().nullable(),endpoint_type:d(),id:f(),invocation_result:ee.b()}).nonstrict()}function j(){return ee.f({application:a().optional().nullable(),application_id:f(),description:ee.h().optional().nullable(),display_name:ee.h(),id:f().optional().nullable(),name:ee.h()}).nonstrict()}function y(){return ee.c(["GET","POST","PUT"])}function _(){return ee.f({count:ee.e().int()}).nonstrict()}function v(){return ee.c(["UP","MAINTENANCE"])}function h(){return ee.f({created:ee.h().optional().nullable(),data:ee.h(),description:ee.h(),id:f().optional().nullable(),name:ee.h(),updated:ee.h().optional().nullable()}).nonstrict()}function f(){return ee.h()}function O(){return ee.f({basic_authentication:n().optional().nullable(),disable_ssl_verification:ee.b(),method:y(),secret_token:ee.h().optional().nullable(),url:ee.h()}).nonstrict()}}(n||(n={})),function(e){var t,a,i,r,o,c,s,u,d,p,m,b,j,y,_,v,h,f,O,g,E,x,R,T,w,I,V,C,A,P,N,B,k,G,S,q,D,L,M,U,F,H,z,Q,J,W,Y,$,K,X,te,ae,ne,ie,le,re,oe;(t||(t=e.InternalResourceHttpRoot||(e.InternalResourceHttpRoot={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./").queryParams({}).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",204),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=ee.a(n.InternalApplicationUserPermission);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./access").queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(a||(a=e.InternalPermissionResourceGetAccessList||(e.InternalPermissionResourceGetAccessList={}))),(i||(i=e.InternalPermissionResourceAddAccess||(e.InternalPermissionResourceAddAccess={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./access").queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.InternalRoleAccess,"InternalRoleAccess",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(r||(r=e.InternalPermissionResourceGetPermissions||(e.InternalPermissionResourceGetPermissions={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./access/me").queryParams({}).config({rules:[new Z.ValidateRule(n.InternalUserPermissions,"InternalUserPermissions",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(o||(o=e.InternalPermissionResourceDeleteAccess||(e.InternalPermissionResourceDeleteAccess={}))).actionCreator=function(e){var t="./access/{internalRoleAccessId}".replace("{internalRoleAccessId}",e.internalRoleAccessId.toString());return Object(l.actionBuilder)("DELETE",t).queryParams({}).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",204),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},s=c||(c=e.AdminResourceDebugRbac||(e.AdminResourceDebugRbac={})),ee.h(),s.actionCreator=function(e){var t={};return void 0!==e.rhid&&(t.rhid=e.rhid),Object(l.actionBuilder)("GET","./admin").queryParams(t).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},d=u||(u=e.AdminResourceSetAdminDown||(e.AdminResourceSetAdminDown={})),ee.h(),d.actionCreator=function(e){var t={};return void 0!==e.status&&(t.status=e.status),Object(l.actionBuilder)("POST","./admin/status").queryParams(t).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(p||(p=e.AdminResourceMigrate||(e.AdminResourceMigrate={}))).actionCreator=function(){return Object(l.actionBuilder)("PUT","./admin/templates/migrate").queryParams({}).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",204),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(m||(m=e.AdminResourceDeleteAllTemplates||(e.AdminResourceDeleteAllTemplates={}))).actionCreator=function(){return Object(l.actionBuilder)("DELETE","./admin/templates/migrate").queryParams({}).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",204),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(b||(b=e.InternalResourceCreateApplication||(e.InternalResourceCreateApplication={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./applications").queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.Application1,"Application1",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(j||(j=e.InternalResourceGetApplication||(e.InternalResourceGetApplication={}))).actionCreator=function(e){var t="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new Z.ValidateRule(n.Application1,"Application1",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(y||(y=e.InternalResourceUpdateApplication||(e.InternalResourceUpdateApplication={}))).actionCreator=function(e){var t="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=ee.b();e.actionCreator=function(e){var a="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(_||(_=e.InternalResourceDeleteApplication||(e.InternalResourceDeleteApplication={}))),function(e){var t=ee.a(n.EventType);e.actionCreator=function(e){var a="./applications/{appId}/eventTypes".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(v||(v=e.InternalResourceGetEventTypes||(e.InternalResourceGetEventTypes={}))),function(e){var t=ee.a(n.BehaviorGroup);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./behaviorGroups/default").queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(h||(h=e.InternalResourceGetDefaultBehaviorGroups||(e.InternalResourceGetDefaultBehaviorGroups={}))),(f||(f=e.InternalResourceCreateDefaultBehaviorGroup||(e.InternalResourceCreateDefaultBehaviorGroup={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./behaviorGroups/default").queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.BehaviorGroup,"BehaviorGroup",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){ee.a(n.RequestDefaultBehaviorGroupPropertyList);var t=ee.h();e.actionCreator=function(e){var a="./behaviorGroups/default/{behaviorGroupId}/actions".replace("{behaviorGroupId}",e.behaviorGroupId.toString());return Object(l.actionBuilder)("PUT",a).queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(O||(O=e.InternalResourceUpdateDefaultBehaviorGroupActions||(e.InternalResourceUpdateDefaultBehaviorGroupActions={}))),function(e){var t=ee.h();e.actionCreator=function(e){var a="./behaviorGroups/default/{behaviorGroupId}/eventType/{eventTypeId}".replace("{behaviorGroupId}",e.behaviorGroupId.toString()).replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("PUT",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(g||(g=e.InternalResourceLinkDefaultBehaviorToEventType||(e.InternalResourceLinkDefaultBehaviorToEventType={}))),function(e){var t=ee.h();e.actionCreator=function(e){var a="./behaviorGroups/default/{behaviorGroupId}/eventType/{eventTypeId}".replace("{behaviorGroupId}",e.behaviorGroupId.toString()).replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(E||(E=e.InternalResourceUnlinkDefaultBehaviorToEventType||(e.InternalResourceUnlinkDefaultBehaviorToEventType={}))),function(e){var t=ee.b();e.actionCreator=function(e){var a="./behaviorGroups/default/{id}".replace("{id}",e.id.toString());return Object(l.actionBuilder)("PUT",a).queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(x||(x=e.InternalResourceUpdateDefaultBehaviorGroup||(e.InternalResourceUpdateDefaultBehaviorGroup={}))),function(e){var t=ee.b();e.actionCreator=function(e){var a="./behaviorGroups/default/{id}".replace("{id}",e.id.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(R||(R=e.InternalResourceDeleteDefaultBehaviorGroup||(e.InternalResourceDeleteDefaultBehaviorGroup={}))),function(e){var t=ee.a(n.Bundle);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./bundles").queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(T||(T=e.InternalResourceGetBundles||(e.InternalResourceGetBundles={}))),(w||(w=e.InternalResourceCreateBundle||(e.InternalResourceCreateBundle={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./bundles").queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.Bundle,"Bundle",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(I||(I=e.InternalResourceGetBundle||(e.InternalResourceGetBundle={}))).actionCreator=function(e){var t="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new Z.ValidateRule(n.Bundle,"Bundle",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(V||(V=e.InternalResourceUpdateBundle||(e.InternalResourceUpdateBundle={}))).actionCreator=function(e){var t="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=ee.b();e.actionCreator=function(e){var a="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(C||(C=e.InternalResourceDeleteBundle||(e.InternalResourceDeleteBundle={}))),function(e){var t=ee.a(n.Application1);e.actionCreator=function(e){var a="./bundles/{bundleId}/applications".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(A||(A=e.InternalResourceGetApplications||(e.InternalResourceGetApplications={}))),(P||(P=e.InternalResourceCreateEventType||(e.InternalResourceCreateEventType={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./eventTypes").queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.EventType,"EventType",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(N||(N=e.InternalResourceUpdateEventType||(e.InternalResourceUpdateEventType={}))).actionCreator=function(e){var t="./eventTypes/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=ee.b();e.actionCreator=function(e){var a="./eventTypes/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(B||(B=e.InternalResourceDeleteEventType||(e.InternalResourceDeleteEventType={}))),(k||(k=e.InternalResourceGetServerInfo||(e.InternalResourceGetServerInfo={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./serverInfo").queryParams({}).config({rules:[new Z.ValidateRule(n.ServerInfo,"ServerInfo",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(G||(G=e.InternalResourceSetCurrentStatus||(e.InternalResourceSetCurrentStatus={}))).actionCreator=function(e){return Object(l.actionBuilder)("PUT","./status").queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",204),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=ee.a(n.Template);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./templates").queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(S||(S=e.TemplateResourceGetAllTemplates||(e.TemplateResourceGetAllTemplates={}))),(q||(q=e.TemplateResourceCreateTemplate||(e.TemplateResourceCreateTemplate={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates").queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.Template,"Template",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=ee.a(n.AggregationEmailTemplate);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./templates/email/aggregation").queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(D||(D=e.TemplateResourceGetAllAggregationEmailTemplates||(e.TemplateResourceGetAllAggregationEmailTemplates={}))),(L||(L=e.TemplateResourceCreateAggregationEmailTemplate||(e.TemplateResourceCreateAggregationEmailTemplate={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates/email/aggregation").queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.AggregationEmailTemplate,"AggregationEmailTemplate",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=ee.a(n.AggregationEmailTemplate);e.actionCreator=function(e){var a="./templates/email/aggregation/application/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(M||(M=e.TemplateResourceGetAggregationEmailTemplatesByApplication||(e.TemplateResourceGetAggregationEmailTemplatesByApplication={}))),(U||(U=e.TemplateResourceGetAggregationemailTemplate||(e.TemplateResourceGetAggregationemailTemplate={}))).actionCreator=function(e){var t="./templates/email/aggregation/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new Z.ValidateRule(n.AggregationEmailTemplate,"AggregationEmailTemplate",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(F||(F=e.TemplateResourceUpdateAggregationEmailTemplate||(e.TemplateResourceUpdateAggregationEmailTemplate={}))).actionCreator=function(e){var t="./templates/email/aggregation/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=ee.b();e.actionCreator=function(e){var a="./templates/email/aggregation/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(H||(H=e.TemplateResourceDeleteAggregationEmailTemplate||(e.TemplateResourceDeleteAggregationEmailTemplate={}))),function(e){var t=ee.a(n.InstantEmailTemplate);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./templates/email/instant").queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(z||(z=e.TemplateResourceGetAllInstantEmailTemplates||(e.TemplateResourceGetAllInstantEmailTemplates={}))),(Q||(Q=e.TemplateResourceCreateInstantEmailTemplate||(e.TemplateResourceCreateInstantEmailTemplate={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates/email/instant").queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.InstantEmailTemplate,"InstantEmailTemplate",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=ee.a(n.InstantEmailTemplate);e.actionCreator=function(e){var a="./templates/email/instant/eventType/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("GET",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(J||(J=e.TemplateResourceGetInstantEmailTemplates||(e.TemplateResourceGetInstantEmailTemplates={}))),(W||(W=e.TemplateResourceGetInstantEmailTemplate||(e.TemplateResourceGetInstantEmailTemplate={}))).actionCreator=function(e){var t="./templates/email/instant/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new Z.ValidateRule(n.InstantEmailTemplate,"InstantEmailTemplate",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(Y||(Y=e.TemplateResourceUpdateInstantEmailTemplate||(e.TemplateResourceUpdateInstantEmailTemplate={}))).actionCreator=function(e){var t="./templates/email/instant/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=ee.b();e.actionCreator=function(e){var a="./templates/email/instant/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}($||($=e.TemplateResourceDeleteInstantEmailTemplate||(e.TemplateResourceDeleteInstantEmailTemplate={}))),function(e){var t=ee.f({body:ee.h().optional().nullable(),subject:ee.h().optional().nullable()}).nonstrict(),a=ee.f({message:ee.h().optional().nullable()}).nonstrict();e.actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates/email/render").queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(a,"unknown",400),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(K||(K=e.TemplateResourceRenderEmailTemplate||(e.TemplateResourceRenderEmailTemplate={}))),(X||(X=e.TemplateResourceGetTemplate||(e.TemplateResourceGetTemplate={}))).actionCreator=function(e){var t="./templates/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new Z.ValidateRule(n.Template,"Template",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},(te||(te=e.TemplateResourceUpdateTemplate||(e.TemplateResourceUpdateTemplate={}))).actionCreator=function(e){var t="./templates/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()},function(e){var t=ee.b();e.actionCreator=function(e){var a="./templates/{templateId}".replace("{templateId}",e.templateId.toString());return Object(l.actionBuilder)("DELETE",a).queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(ae||(ae=e.TemplateResourceDeleteTemplate||(e.TemplateResourceDeleteTemplate={}))),ie=ne||(ne=e.ValidationResourceValidate||(e.ValidationResourceValidate={})),ee.h(),ee.h(),ee.h(),ie.actionCreator=function(e){var t={};return void 0!==e.application&&(t.application=e.application),void 0!==e.bundle&&(t.bundle=e.bundle),void 0!==e.eventType&&(t.eventType=e.eventType),Object(l.actionBuilder)("GET","./validation/baet").queryParams(t).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",200)]}).build()},re=le||(le=e.ValidationResourceValidateMessage||(e.ValidationResourceValidateMessage={})),ee.h(),re.actionCreator=function(e){return Object(l.actionBuilder)("POST","./validation/message").queryParams({}).data(e.body).config({rules:[new Z.ValidateRule(n.__Empty,"__Empty",200),new Z.ValidateRule(n.MessageErrorValidationResponse,"MessageErrorValidationResponse",400)]}).build()},function(e){var t=ee.h();e.actionCreator=function(){return Object(l.actionBuilder)("GET","./version").queryParams({}).config({rules:[new Z.ValidateRule(t,"unknown",200),new Z.ValidateRule(n.__Empty,"__Empty",401),new Z.ValidateRule(n.__Empty,"__Empty",403)]}).build()}}(oe||(oe=e.InternalResourceGetVersion||(e.InternalResourceGetVersion={})))}(i||(i={}));var te=Object(Z.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){return{id:e.id,name:e.name,description:e.description,data:e.data}}));return Object(Z.validatedResponse)("emailTemplates",200,t,e.errors)}return e})),ae=a(694),ne=a(669),ie=a(670),le=function(e){return Object(T.jsx)(o.a.Fragment,{children:Object(T.jsx)(ae.a,{variant:ae.b.medium,title:" Email Template for ".concat(e.applicationName),isOpen:e.showModal,onClose:e.onClose,children:Object(T.jsxs)(ne.a,{isHorizontal:!0,children:["Viewing modal for existing templates",Object(T.jsx)(ie.a,{children:Object(T.jsx)(G.a,{variant:"primary",type:"reset",onClick:e.onClose,children:"Close"})})]})})})},re=function(e){var t,a=J().hasPermission,n=function(){var e=Object(u.useQuery)(i.TemplateResourceGetAllTemplates.actionCreator()),t=Object(r.useMemo)((function(){var t=e.payload;if(t)return te(t)}),[e.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},e),{},{payload:t})}),[e,t])}(),l=r.useState(!1),o=Object(p.a)(l,2),c=o[0],s=o[1],m=function(){s(!0)};return n.loading?Object(T.jsx)(_.a,{}):200!==(null===(t=n.payload)||void 0===t?void 0:t.status)?Object(T.jsxs)("span",{children:["Error while loading templates: ",n.errorObject.toString()]}):Object(T.jsx)(r.Fragment,{children:Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h1",children:Object(T.jsx)(A.a,{children:Object(T.jsxs)(P.a,{target:"#",children:["Email Templates for ",e.application.displayName]})})}),Object(T.jsxs)(D.a,{"aria-label":"Email Template table",children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(N.a,{children:Object(T.jsx)(B.a,{children:Object(T.jsxs)(k.a,{children:[Object(T.jsx)(G.a,{variant:"primary",isDisabled:!a(e.application.id),component:function(e){return Object(T.jsx)(d.b,Object(z.a)(Object(z.a)({},e),{},{to:tt.emailTemplates}))},children:"Create Email Template"}),Object(T.jsx)(le,{showModal:c,applicationName:e.application.displayName,onClose:function(){s(!1)}})]})})}),Object(T.jsx)(M.a,{children:["Email Templates"].map((function(e,t){return Object(T.jsx)(U.a,{children:e},t)}))})]}),Object(T.jsx)(F.a,{children:n.payload.value.map((function(e){return Object(T.jsxs)(M.a,{children:[Object(T.jsx)(H.a,{children:e.name}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"view",type:"button",variant:"plain",onClick:m,children:[" ",Object(T.jsx)(X.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"edit",type:"button",variant:"plain",isDisabled:!0,children:[" ",Object(T.jsx)(S.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"delete",type:"button",variant:"plain",isDisabled:!0,children:[Object(T.jsx)(q.a,{})," "]})})]},e.id)}))})]})]})})},oe=a(26),ce=a(700),se=a(677),ue=a(701),de=a(678),pe=a(702),me=function(e){var t,a=o.a.useState(null!==(t=e.initialEventType)&&void 0!==t?t:{}),n=Object(p.a)(a,2),i=n[0],l=n[1],r=function(e,t){var a=t.target;l((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(oe.a)({},a.name,a.value))}))},c=o.a.useCallback((function(){e.onSubmit(i)}),[i,e]);return o.a.useEffect((function(){var t;l(null!==(t=e.initialEventType)&&void 0!==t?t:{})}),[e.initialEventType]),Object(T.jsx)(o.a.Fragment,{children:Object(T.jsx)(ae.a,{variant:ae.b.medium,title:"".concat(e.isEdit?"Update":"Create"," Event Type for ").concat(e.applicationName),isOpen:e.showModal,onClose:e.onClose,children:Object(T.jsxs)(ne.a,{isHorizontal:!0,children:[Object(T.jsx)(ce.a,{label:"Name",fieldId:"name",isRequired:!0,helperText:e.isEdit?Object(T.jsx)(se.a,{children:Object(T.jsx)(ue.a,{variant:"warning",hasIcon:!0,children:"If this field is modified it may affect exisiting behavior."})}):"This is a short name, only composed of a-z 0-9 and - characters.",children:Object(T.jsx)(de.a,{type:"text",value:i.name,onChange:r,id:"name",name:"name"})}),Object(T.jsx)(ce.a,{label:"Display name",fieldId:"display-name",isRequired:!0,helperText:"This is the name you want to display on the UI",children:Object(T.jsx)(de.a,{type:"text",value:i.displayName,onChange:r,id:"display-name",name:"displayName"})}),Object(T.jsx)(ce.a,{label:"Description",fieldId:"description",helperText:"Optional short description that appears in the UI to help admin decide how to notify users.",children:Object(T.jsx)(pe.a,{type:"text",value:i.description,onChange:r,id:"description",name:"description"})}),Object(T.jsxs)(ie.a,{children:[Object(T.jsx)(G.a,{variant:"primary",type:"submit",isLoading:e.isLoading,isDisabled:e.isLoading,onClick:c,children:e.isEdit?"Update":"Submit"}),Object(T.jsx)(G.a,{variant:"link",type:"reset",onClick:e.onClose,children:"Cancel"})]})]})})})},be=function(e){var t=o.a.useState(!0),a=Object(p.a)(t,2),n=a[0],i=a[1],l=o.a.useCallback(Object(C.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.onDelete,t.next=3,a();case 3:t.sent?e.onClose():alert("Could not delete event type, please try again.");case 5:case"end":return t.stop()}}),t)}))),[e]);return Object(T.jsx)(o.a.Fragment,{children:Object(T.jsxs)(ae.a,{variant:ae.b.small,titleIconVariant:"warning",isOpen:e.isOpen,onClose:e.onClose,title:"Permanently delete ".concat(e.eventTypeName),children:[Object(T.jsx)("b",{children:e.eventTypeName})," ","from  ".concat(e.applicationName,"/").concat(e.bundleName?e.bundleName:Object(T.jsx)(_.a,{})," will be deleted. \n                        If an application is currently sending this event, it will no longer be processed."),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Type ",Object(T.jsx)("b",{children:e.eventTypeName})," to confirm:",Object(T.jsx)("br",{}),Object(T.jsx)(de.a,{type:"text",onChange:function(t,a){var n=a.target;return n.value!==e.eventTypeName?i(!0):n.value===e.eventTypeName?i(!1):void 0},id:"name",name:"name",isRequired:!0}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsxs)(ie.a,{children:[Object(T.jsx)(G.a,{variant:"danger",type:"button",isDisabled:n,onClick:l,children:"Delete"}),Object(T.jsx)(G.a,{variant:"link",type:"button",onClick:e.onClose,children:"Cancel"})]})]})})},je=a(420),ye=["href"],_e=function(e){var t=e.href,a=Object(je.a)(e,ye);return Object(T.jsx)(d.b,Object(z.a)(Object(z.a)({to:t},a),{},{children:e.children}))},ve=function(e){return Object(T.jsx)(P.a,Object(z.a)(Object(z.a)({},e),{},{component:_e,children:e.children}))},he=Object(Z.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",application:e.application,applicationId:e.application_id,body_template:e.body_template,body_template_id:e.body_template_id,subject_template:e.subject_template,subject_template_id:e.subject_template_id}}));return Object(Z.validatedResponse)("AggregationEmailTemplates",200,t,e.errors)}return e})),fe=function(e){return void 0===e.id?i.InternalResourceCreateEventType.actionCreator({body:{id:e.id,application_id:e.applicationId,description:e.description,display_name:e.displayName,name:e.name}}):i.InternalResourceUpdateEventType.actionCreator({eventTypeId:e.id,body:{id:e.id,application_id:e.applicationId,description:e.description,display_name:e.displayName,name:e.name}})},Oe=function(e){return i.InternalResourceDeleteEventType.actionCreator({eventTypeId:e})},ge=Object(Z.validationResponseTransformer)((function(e){if(200===e.status){var t,a={id:null!==(t=e.value.id)&&void 0!==t?t:"",displayName:e.value.display_name,name:e.value.name,bundleId:e.value.bundle_id};return Object(Z.validatedResponse)("Application",200,a,e.errors)}return e})),Ee=function(e){return i.InternalResourceGetBundle.actionCreator({bundleId:e})},xe=Object(Z.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){var t,a;return{id:null!==(t=e.id)&&void 0!==t?t:"",name:e.name,displayName:e.display_name,description:null!==(a=e.description)&&void 0!==a?a:"",applicationId:e.application_id}}));return Object(Z.validatedResponse)("EventTypes",200,t,e.errors)}return e})),Re=function(e){var t=Object(u.useQuery)(i.InternalResourceGetEventTypes.actionCreator({appId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return xe(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])},Te=a(679),we=a(680),Ie=function(e){var t=J(),a=o.a.useState(Object(z.a)({},e.initialApplication)),n=Object(p.a)(a,2),i=n[0],l=n[1],r=function(e,t){var a=t.target;l((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(oe.a)({},a.name,a.value))}))},c=o.a.useCallback((function(){e.onSubmit(i)}),[i,e]);return o.a.useEffect((function(){void 0===i.ownerRole&&t.roles.length>0&&l((function(e){return Object(z.a)(Object(z.a)({},e),{},{ownerRole:t.roles[0]})}))}),[t.roles,i.ownerRole]),Object(T.jsx)(o.a.Fragment,{children:Object(T.jsx)(ae.a,{variant:ae.b.medium,title:"".concat(e.isEdit?"Update ".concat(e.applicationName):"Create Application"," for ").concat(e.bundleName),isOpen:e.showModal,onClose:e.onClose,children:Object(T.jsxs)(ne.a,{isHorizontal:!0,children:[Object(T.jsx)(ce.a,{label:"Name",fieldId:"name",isRequired:!0,helperText:e.isEdit?Object(T.jsx)(se.a,{children:Object(T.jsx)(ue.a,{variant:"warning",hasIcon:!0,children:"If this field is modified it may affect exisiting behavior."})}):"This is a short name, only composed of a-z 0-9 and - characters.",children:Object(T.jsx)(de.a,{type:"text",value:i.name,onChange:r,id:"name",name:"name"})}),Object(T.jsx)(ce.a,{label:"Display name",fieldId:"display-name",isRequired:!0,helperText:"This is the name you want to display on the UI",children:Object(T.jsx)(de.a,{type:"text",value:i.displayName,onChange:r,id:"display-name",name:"displayName"})}),!e.isEdit&&Object(T.jsx)(ce.a,{fieldId:"role-name",label:"Role admin",isRequired:!0,helperText:"Role of users who will manage the application",children:t.isAdmin?Object(T.jsx)(de.a,{type:"text",onChange:r,value:i.ownerRole,id:"owner-role",name:"ownerRole"}):Object(T.jsx)(Te.a,{value:i.ownerRole,onChange:r,id:"owner-role",name:"ownerRole",children:t.roles.map((function(e){return Object(T.jsx)(we.a,{label:e,value:e},e)}))})}),Object(T.jsxs)(ie.a,{children:[Object(T.jsx)(G.a,{variant:"primary",type:"submit",isLoading:e.isLoading,isDisabled:e.isLoading,onClick:c,children:e.isEdit?"Update":"Submit"}),Object(T.jsx)(G.a,{variant:"link",type:"reset",onClick:e.onClose,children:"Cancel"})]})]})})})},Ve=function(e){var t=o.a.useState(!0),a=Object(p.a)(t,2),n=a[0],i=a[1],l=o.a.useCallback(Object(C.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.onDelete,t.next=3,a();case 3:t.sent?e.onClose():alert("Could not delete application, please try again.");case 5:case"end":return t.stop()}}),t)}))),[e]);return Object(T.jsx)(o.a.Fragment,{children:Object(T.jsxs)(ae.a,{variant:ae.b.small,titleIconVariant:"warning",isOpen:e.isOpen,onClose:e.onClose,title:"Permanently delete ".concat(e.applicationName),children:[Object(T.jsx)("b",{children:e.applicationName})," ","from ".concat(e.bundleName?e.bundleName:Object(T.jsx)(_.a,{})," will be deleted. \n                        By deleting this application all associated event types will be deleted and no longer processed. "),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Type ",Object(T.jsx)("b",{children:e.applicationName})," to confirm:",Object(T.jsx)("br",{}),Object(T.jsx)(de.a,{type:"text",onChange:function(t,a){var n=a.target;return n.value!==e.applicationName?i(!0):n.value===e.applicationName?i(!1):void 0},id:"name",name:"name",isRequired:!0}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsxs)(ie.a,{children:[Object(T.jsx)(G.a,{variant:"danger",type:"button",isDisabled:n,onClick:l,children:"Delete"}),Object(T.jsx)(G.a,{variant:"link",type:"button",onClick:e.onClose,children:"Cancel"})]})]})})},Ce=a(703),Ae=a(417),Pe=function(e){var t,a=Re(e.appId);return a.loading?Object(T.jsx)(_.a,{}):200!==(null===(t=a.payload)||void 0===t?void 0:t.status)?Object(T.jsxs)("span",{children:["Error while loading eventtypes: ",a.errorObject.toString()]}):Object(T.jsxs)(r.Fragment,{children:[Object(T.jsx)(Ce.a,{children:0===a.payload.value.length?"No event types":""}),Object(T.jsx)(Ce.a,{children:a.payload.value.map((function(e){return Object(T.jsx)(Ae.a,{isReadOnly:!0,children:e.displayName},e.id)}))})]})},Ne=function(e){return void 0===e.id?i.InternalResourceCreateApplication.actionCreator({body:{bundle_id:e.bundleId,display_name:e.displayName,name:e.name,owner_role:e.ownerRole}}):i.InternalResourceUpdateApplication.actionCreator({appId:e.id,body:{id:e.id,bundle_id:e.bundleId,display_name:e.displayName,name:e.name}})},Be=function(e){return i.InternalResourceDeleteApplication.actionCreator({appId:e})},ke=Object(Z.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,bundleId:e.bundle_id,name:e.name}}));return Object(Z.validatedResponse)("Applications",200,t,e.errors)}return e})),Ge=Object(Z.validationResponseTransformer)((function(e){if(200===e.status){var t,a={id:null!==(t=e.value.id)&&void 0!==t?t:"",displayName:e.value.display_name,applications:[]};return Object(Z.validatedResponse)("Bundle",200,a,e.errors)}return e})),Se=a(681),qe=a(682),De="\nImportant email to {user.firstName} from MyCoolApp!\n".trimLeft(),Le='\n<div>Hello {user.firstName} {user.lastName},</div>\n<div>We have some important news for you, MyApp has a notification for you</div>\n<div>As a reminder, current user: {user.username}: is active? {user.isActive}; is admin? {user.isAdmin}</div>\n<div>\n    System with name <strong>{action.context.display_name}</strong> (<strong>{action.context.inventory_id}</strong>) \n    did a check in at {action.context.system_check_in.toUtcFormat()}. \n    It was about {action.context.system_check_in.toTimeAgo()}\n</div>\n<div>This is a loop:</div>\n{#if action.events.size() > 0}\n<ul>\n    {#each action.events}\n        <li>\n            <a href="http://google.com?q={it.payload.my_id}" target="_blank">{it.payload.my_name}</a>\n        </li>\n    {/each}\n</ul>\n<div>Have a nice day!</div>\n{/if}\n'.trimLeft(),Me=JSON.stringify({bundle:"rhel",application:"policies",event_type:"policy-triggered",timestamp:"2021-08-05T16:21:14.243",account_id:"5758117",context:'{"inventory_id":"80f7e57d-a16a-4189-82af-1d68a747c8b3","system_check_in":"2021-08-05T16:21:12.953036","display_name":"cool display name"}',events:[{metadata:{},payload:'{"my_id":"3df53241-3e09-481b-a322-4892caaaaadc","my_name":"Red color"}'},{metadata:{},payload:'{"my_id":"6c5e8451-a40a-4bb7-ab9a-0cb10a4c577d","my_name":"Green color"}'},{metadata:{},payload:'{"my_id":"b4c6378a-c1fb-4d3e-8e9b-7e5bdfc09dd3","my_name":"Blue color"}'}]},null,2),Ue=a(683),Fe=a(684),He=a(686),ze=a(687),Qe=a(247),Je=a(685),We=JSON.stringify({},null,2),Ye=function(e){var t=Object.keys(e).sort(),a=[];return t.forEach((function(t){e[t].forEach((function(e){return a.push(e)}))})),Object(T.jsx)(Ue.a,{children:a.map((function(e,t){return Object(T.jsx)(Fe.a,{children:e},t)}))})},$e=function(e){return i.TemplateResourceRenderEmailTemplate.actionCreator({body:{subject_template:e.subject,body_template:e.body,payload:e.payload}})},Ke="\nImportant email to {user.firstName} from MyCoolApp!\n".trimLeft(),Xe='\n<div>Hello {user.firstName} {user.lastName},</div>\n<div>We have some important news for you, MyApp has a notification for you</div>\n<div>As a reminder, current user: {user.username}: is active? {user.isActive}; is admin? {user.isAdmin}</div>\n<div>\n    System with name <strong>{action.context.display_name}</strong> (<strong>{action.context.inventory_id}</strong>) \n    did a check in at {action.context.system_check_in.toUtcFormat()}. \n    It was about {action.context.system_check_in.toTimeAgo()}\n</div>\n<div>This is a loop:</div>\n{#if action.events.size() > 0}\n<ul>\n    {#each action.events}\n        <li>\n            <a href="http://google.com?q={it.payload.my_id}" target="_blank">{it.payload.my_name}</a>\n        </li>\n    {/each}\n</ul>\n<div>Have a nice day!</div>\n{/if}\n'.trimLeft(),Ze=JSON.stringify({bundle:"rhel",application:"policies",event_type:"policy-triggered",timestamp:"2021-08-05T16:21:14.243",account_id:"5758117",context:'{"inventory_id":"80f7e57d-a16a-4189-82af-1d68a747c8b3","system_check_in":"2021-08-05T16:21:12.953036","display_name":"cool display name"}',events:[{metadata:{},payload:'{"my_id":"3df53241-3e09-481b-a322-4892caaaaadc","my_name":"Red color"}'},{metadata:{},payload:'{"my_id":"6c5e8451-a40a-4bb7-ab9a-0cb10a4c577d","my_name":"Green color"}'},{metadata:{},payload:'{"my_id":"b4c6378a-c1fb-4d3e-8e9b-7e5bdfc09dd3","my_name":"Blue color"}'}]},null,2),et=function(e){return e.isLoading?Object(T.jsx)(_.a,{}):e.succeeded?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ze.a,{children:Object(T.jsxs)("span",{children:[Object(T.jsx)("strong",{children:"Subject:"})," ",e.subject]})}),Object(T.jsx)(ze.a,{children:Object(T.jsx)("strong",{children:"Body:"})}),Object(T.jsx)(ze.a,{children:Object(T.jsx)("iframe",{width:"100%",srcDoc:e.body})})]}):Object(T.jsx)(ze.a,{children:Object(T.jsx)(se.a,{children:Object(T.jsx)(ue.a,{variant:"error",children:e.error})})})},tt={bundle:function(e){return"/bundle/".concat(e)},application:function(e){return"/application/".concat(e)},aggregation:function(){return"/aggregation"},email:function(){return"/email"},emailTemplates:function(){return"/emailTemplates"},messageValidator:function(){return"/utils/message-validator"}},at=[{path:tt.aggregation(),component:function(){var e=r.useCallback((function(e,t){e.layout(),e.focus(),t.editor.getModels()[0].updateOptions({tabSize:5})}),[]),t=r.useCallback((function(e){}),[]),a=Object(r.useMemo)((function(){return[Object(T.jsx)(g.a,{icon:Object(T.jsx)(R.a,{}),toolTipText:"Test aggregation",onClick:function(){return console.log("testing")},isVisible:!0},"test")]}),[]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Aggregation templates"})}),Object(T.jsx)(y.a,{children:Object(T.jsx)(E.a,{isDownloadEnabled:!0,isUploadEnabled:!0,customControls:a,isLineNumbersVisible:!0,isLanguageLabelVisible:!0,isMinimapVisible:!1,language:E.b.javascript,onEditorDidMount:e,onChange:t,code:w,height:"300px"})})]})}},{path:tt.application(":applicationId"),component:function(){var e,t,a,n,l,o,c,s,d=J(),m=d.hasPermission,b=d.isAdmin,j=Object(O.g)().applicationId,v=Re(j),h=function(e){var t=Object(u.useQuery)(i.InternalResourceGetApplication.actionCreator({appId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return ge(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])}(j),f=Object(u.useMutation)(Oe),g=Object(u.useMutation)(fe),E=function(e){var t=Object(u.useQuery)(i.TemplateResourceGetAggregationEmailTemplatesByApplication.actionCreator({appId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return he(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])}(j),R=r.useState({}),w=Object(p.a)(R,2),I=w[0],Q=w[1],W=r.useState(!1),Y=Object(p.a)(W,2),$=Y[0],X=Y[1],Z=r.useState(!1),ee=Object(p.a)(Z,2),te=ee[0],ae=ee[1],ne=r.useState(!1),ie=Object(p.a)(ne,2),le=ie[0],oe=ie[1],ce=r.useMemo((function(){var e;if("Application"===(null===(e=h.payload)||void 0===e?void 0:e.type))return h.payload.value.bundleId}),[h.payload]),se=Object(u.useParameterizedQuery)(Ee);r.useEffect((function(){var e=se.query;ce&&e(ce)}),[ce,se.query]);var ue=r.useMemo((function(){var e;if(200===(null===(e=se.payload)||void 0===e?void 0:e.status))return se.payload.value}),[null===(e=se.payload)||void 0===e?void 0:e.status,null===(t=se.payload)||void 0===t?void 0:t.value]),de=Object(r.useMemo)((function(){var e;if(200===(null===(e=h.payload)||void 0===e?void 0:e.status))return h.payload.value}),[null===(a=h.payload)||void 0===a?void 0:a.status,null===(n=h.payload)||void 0===n?void 0:n.value]),pe=Object(r.useMemo)((function(){var e;if(200===(null===(e=E.payload)||void 0===e?void 0:e.status))return E.payload.value}),[null===(l=E.payload)||void 0===l?void 0:l.status,null===(o=E.payload)||void 0===o?void 0:o.value]),je=r.useCallback((function(e){var t,a,n;X(!1),(0,g.mutate)({id:e.id,displayName:null!==(t=e.displayName)&&void 0!==t?t:"",name:null!==(a=e.name)&&void 0!==a?a:"",description:null!==(n=e.description)&&void 0!==n?n:"",applicationId:j}).then(v.query)}),[j,v.query,g.mutate]),ye=r.useCallback(Object(C.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!1),t=f.mutate,e.next=4,t(I.id);case 4:if(!e.sent.error){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),[f.mutate,I.id]);return v.loading?Object(T.jsx)(_.a,{}):200!==(null===(c=v.payload)||void 0===c?void 0:c.status)?Object(T.jsxs)("span",{children:["Error while loading eventtypes: ",v.errorObject.toString()]}):Object(T.jsxs)(r.Fragment,{children:[Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h1",children:Object(T.jsxs)(A.a,{children:[Object(T.jsx)(P.a,{target:"#",children:" Bundles "}),Object(T.jsx)(ve,{to:tt.bundle(null!==ce&&void 0!==ce?ce:""),children:ue?ue.display_name:Object(T.jsx)(_.a,{})}),Object(T.jsxs)(P.a,{to:"#",isActive:!0,children:[" ",h.loading||200!==(null===(s=h.payload)||void 0===s?void 0:s.status)?Object(T.jsx)(_.a,{}):h.payload.value.displayName]})]})}),Object(T.jsxs)(D.a,{"aria-label":"Event types table",children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(N.a,{children:Object(T.jsx)(B.a,{children:Object(T.jsxs)(k.a,{children:[Object(T.jsx)(G.a,{variant:"primary",type:"button",isDisabled:!de||!m(null===de||void 0===de?void 0:de.id),onClick:function(){X(!0),ae(!1),Q({})},children:" Create Event Type "}),Object(T.jsx)(me,{isEdit:te,initialEventType:I,showModal:$,applicationName:null===de||void 0===de?void 0:de.displayName,onClose:function(){X(!1),v.query()},onSubmit:je,isLoading:v.loading}),Object(T.jsx)(r.Fragment,{children:Object(T.jsx)(be,{onDelete:ye,isOpen:le,onClose:function(){oe(!1),v.query()},eventTypeName:I.name,applicationName:null===de||void 0===de?void 0:de.displayName,bundleName:null===ue||void 0===ue?void 0:ue.display_name})})]})})}),Object(T.jsx)(M.a,{children:["Event Type","Name","Description","Event Type Id"].map((function(e,t){return Object(T.jsx)(U.a,{children:e},t)}))})]}),Object(T.jsx)(F.a,{children:0===v.payload.value.length?"There are no event types found for this application":""}),Object(T.jsx)(F.a,{children:v.payload.value.map((function(e){return Object(T.jsxs)(M.a,{children:[Object(T.jsx)(H.a,{children:e.displayName}),Object(T.jsx)(H.a,{children:e.name}),Object(T.jsx)(H.a,{children:e.description}),Object(T.jsx)(H.a,{children:e.id}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"edit",type:"button",variant:"plain",isDisabled:!de||!m(null===de||void 0===de?void 0:de.id),onClick:function(){return function(e){X(!0),ae(!0),Q(e)}(e)},children:[" ",Object(T.jsx)(S.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"delete",type:"button",variant:"plain",isDisabled:!de||!m(null===de||void 0===de?void 0:de.id),onClick:function(){return function(e){oe(!0),Q(e)}(e)},children:[Object(T.jsx)(q.a,{})," "]})})]},e.id)}))})]})]}),Object(T.jsx)(K,{applicationName:null===de||void 0===de?void 0:de.displayName,bundleName:null===ue||void 0===ue?void 0:ue.display_name,templateName:null===pe||void 0===pe?void 0:pe.map((function(e){var t;return null===(t=e.body_template)||void 0===t?void 0:t.name}))}),b&&de&&Object(T.jsx)(re,{application:de})]})}},{path:tt.bundle(":bundleId"),component:function(){var e,t,a,n,l=J(),o=l.hasPermission,c=l.refresh,s=l.isAdmin,m=Object(O.g)().bundleId,b=function(e){var t=Object(u.useQuery)(i.InternalResourceGetBundle.actionCreator({bundleId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return Ge(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])}(m),j=function(e){var t=Object(u.useQuery)(i.InternalResourceGetApplications.actionCreator({bundleId:e})),a=Object(r.useMemo)((function(){var e=t.payload;if(e)return ke(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(z.a)(Object(z.a)({},t),{},{payload:a})}),[t,a])}(m),v=Object(u.useMutation)(Ne),h=Object(u.useMutation)(Be),f=r.useState({}),g=Object(p.a)(f,2),E=g[0],R=g[1],w=r.useState(!1),I=Object(p.a)(w,2),Q=I[0],W=I[1],Y=r.useState(!1),$=Object(p.a)(Y,2),K=$[0],X=$[1],Z=r.useState(!1),ee=Object(p.a)(Z,2),te=ee[0],ae=ee[1],ne=r.useMemo((function(){var e;if(200===(null===(e=b.payload)||void 0===e?void 0:e.status))return b.payload.value}),[null===(e=b.payload)||void 0===e?void 0:e.status,null===(t=b.payload)||void 0===t?void 0:t.value]),ie=r.useCallback((function(e){var t,a;W(!1),(0,v.mutate)({id:e.id,displayName:null!==(t=e.displayName)&&void 0!==t?t:"",name:null!==(a=e.name)&&void 0!==a?a:"",bundleId:m,ownerRole:e.ownerRole}).then((function(e){var t;return 200!==(null===(t=e.payload)||void 0===t?void 0:t.status)||s||c(),e})).then(j.query)}),[m,j.query,v.mutate,s,c]),le=r.useCallback(Object(C.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!1),t=h.mutate,e.next=4,t(E.id);case 4:if(!e.sent.error){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),[E.id,h.mutate]);return j.loading?Object(T.jsx)(_.a,{}):200!==(null===(a=j.payload)||void 0===a?void 0:a.status)?Object(T.jsxs)("span",{children:["Error while loading applications: ",j.errorObject.toString()]}):Object(T.jsx)(r.Fragment,{children:Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h1",children:Object(T.jsxs)(A.a,{children:[Object(T.jsx)(P.a,{target:"#",children:" Bundles "}),Object(T.jsx)(P.a,{target:"#",children:b.loading||200!==(null===(n=b.payload)||void 0===n?void 0:n.status)?Object(T.jsx)(_.a,{}):b.payload.value.displayName})]})}),Object(T.jsxs)(D.a,{"aria-label":"Applications table",children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(N.a,{children:Object(T.jsx)(B.a,{children:Object(T.jsxs)(k.a,{children:[Object(T.jsx)(G.a,{variant:"primary",type:"button",onClick:function(){W(!0),ae(!1),R({})},children:" Create Application "}),Q&&Object(T.jsx)(Ie,{isEdit:te,bundleName:null===ne||void 0===ne?void 0:ne.displayName,initialApplication:E,showModal:Q,applicationName:E.displayName,onClose:function(){W(!1),R({}),j.query()},onSubmit:ie,isLoading:j.loading}),Object(T.jsx)(r.Fragment,{children:Object(T.jsx)(Ve,{onDelete:le,isOpen:K,onClose:function(){X(!1),j.query()},applicationName:E.displayName,bundleName:null===ne||void 0===ne?void 0:ne.displayName})})]})})}),Object(T.jsx)(M.a,{children:["Application","Name","Event Types","Application Id"].map((function(e,t){return Object(T.jsx)(U.a,{children:e},t)}))})]}),Object(T.jsx)(F.a,{children:j.payload.value.map((function(e){return Object(T.jsxs)(M.a,{children:[Object(T.jsx)(H.a,{children:Object(T.jsx)(G.a,{variant:"link",component:function(t){return Object(T.jsx)(d.b,Object(z.a)(Object(z.a)({},t),{},{to:tt.application(e.id)}))},children:e.displayName})}),Object(T.jsx)(H.a,{children:e.name}),Object(T.jsx)(H.a,{children:Object(T.jsx)(Pe,{appId:e.id})}),Object(T.jsx)(H.a,{children:e.id}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"edit",type:"button",variant:"plain",isDisabled:!o(e.id),onClick:function(){return function(e){W(!0),ae(!0),R(e)}(e)},children:[" ",Object(T.jsx)(S.a,{})," "]})}),Object(T.jsx)(H.a,{children:Object(T.jsxs)(G.a,{className:"delete",type:"button",variant:"plain",isDisabled:!s,onClick:function(){return function(e){X(!0),R(e)}(e)},children:[Object(T.jsx)(q.a,{})," "]})})]},e.id)}))})]})]})})}},{path:tt.email(),component:function(){var e,t,a,n=Object(u.useMutation)($e),i=r.useState(Ke),l=Object(p.a)(i,2),o=l[0],c=l[1],s=r.useState(Xe),d=Object(p.a)(s,2),m=d[0],b=d[1],j=r.useState(Ze),_=Object(p.a)(j,2),v=_[0],h=_[1];if(r.useEffect((function(){(0,n.mutate)({subject:null!==o&&void 0!==o?o:"",body:null!==m&&void 0!==m?m:"",payload:null!==v&&void 0!==v?v:""})}),[]),n.loading)a={isLoading:!0};else if(200===(null===(e=n.payload)||void 0===e?void 0:e.status)){var f,O;a={isLoading:!1,succeeded:!0,subject:null!==(f=n.payload.value.subject)&&void 0!==f?f:"",body:null!==(O=n.payload.value.body)&&void 0!==O?O:""}}else if(400===(null===(t=n.payload)||void 0===t?void 0:t.status)){var g;a={isLoading:!1,succeeded:!1,error:null!==(g=n.payload.value.message)&&void 0!==g?g:"Unknown error"}}else a={isLoading:!1,succeeded:!1,error:"Unknown error"};var R=r.useCallback((function(){(0,n.mutate)({subject:null!==o&&void 0!==o?o:"",body:null!==m&&void 0!==m?m:"",payload:null!==v&&void 0!==v?v:""})}),[n.mutate,o,m,v]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsxs)(Se.a,{children:[Object(T.jsx)(qe.a,{isFilled:!0,children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Email templates"})}),Object(T.jsx)(qe.a,{children:Object(T.jsx)(G.a,{onClick:R,children:"Render"})})]})}),Object(T.jsx)(y.a,{children:Object(T.jsxs)(He.a,{children:[Object(T.jsx)(ze.a,{children:Object(T.jsx)(x.a,{headingLevel:"h2",children:"Result"})}),Object(T.jsx)(et,Object(z.a)({},a))]})}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Subject template"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:Ke,height:"50px",onChange:c})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Body template"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:Xe,height:"300px",onChange:b})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Payload"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:Ze,height:"300px",isLanguageLabelVisible:!0,language:E.b.json,onChange:h})]})]})}},{path:tt.emailTemplates(),component:function(){var e=J().isAdmin,t=r.useCallback((function(){history.back()}),[]);return Object(T.jsx)(T.Fragment,{children:e&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsx)(Se.a,{children:Object(T.jsx)(qe.a,{isFilled:!0,children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Create an Email Template"})})})}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Subject template"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,code:De,isMinimapVisible:!1,height:"50px"})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Body template"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,code:Le,isMinimapVisible:!1,height:"300px"})]}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(x.a,{headingLevel:"h2",children:"Payload"}),Object(T.jsx)(E.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:Me,height:"300px",isLanguageLabelVisible:!0,language:E.b.json})]}),Object(T.jsx)(y.a,{children:Object(T.jsx)(ie.a,{children:Object(T.jsxs)(Se.a,{hasGutter:!0,children:[Object(T.jsx)(qe.a,{children:Object(T.jsx)(G.a,{variant:"primary",type:"submit",children:"Submit"})}),Object(T.jsx)(qe.a,{children:Object(T.jsx)(G.a,{variant:"secondary",type:"reset",onClick:t,children:"Back"})})]})})})]})})}},{path:tt.messageValidator(),component:function(){var e,t,a=Object(u.useParameterizedQuery)(i.ValidationResourceValidateMessage.actionCreator),n=r.useState(We),l=Object(p.a)(n,2),o=l[0],c=l[1],s=r.useState(),d=Object(p.a)(s,2),m=d[0],b=d[1],j=r.useCallback(Object(C.a)(V.a.mark((function e(){var t,n,i,l;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,i=JSON.parse(o),e.next=9;break;case 4:return e.prev=4,e.t0=e.catch(0),console.log(e.t0),b({errors:{$:["Not a valid json: "+e.t0.message]},code:o}),e.abrupt("return");case 9:return e.next=11,a.query({body:i});case 11:l=e.sent,200===(null===(t=l.payload)||void 0===t?void 0:t.status)?b({errors:{},code:o}):400===(null===(n=l.payload)||void 0===n?void 0:n.status)&&b({errors:l.payload.value.errors,code:o});case 13:case"end":return e.stop()}}),e,null,[[0,4]])}))),[a,o]),_=Object(T.jsx)(g.a,{icon:Object(T.jsx)(Qe.a,{color:Je.a.value}),toolTipText:"Validates the message",onClick:j});return(null===m||void 0===m?void 0:m.code)===o?0===Object.keys(m.errors).length?(e=h.b.success,t="Message is valid"):(e=h.b.danger,t=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:"Message is invalid:"}),Ye(m.errors)]})):(e=h.b.warning,t=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:"Message has not been validated. Use the validation button"}),(null===m||void 0===m?void 0:m.errors)&&Object.keys(m.errors).length>0&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:"Previous errors:"}),Ye(m.errors)]})]})),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(y.a,{children:Object(T.jsxs)(He.a,{children:[Object(T.jsx)(ze.a,{isFilled:!0,children:Object(T.jsx)(x.a,{headingLevel:"h1",children:"Notification validator"})}),Object(T.jsx)(ze.a,{children:Object(T.jsx)("span",{children:"You can use this utility to verify the notification you are sending is valid and tweak as needed."})})]})}),Object(T.jsxs)(y.a,{children:[Object(T.jsx)(h.a,{isInline:!0,title:t,variant:e}),Object(T.jsx)(E.a,{showEditor:!0,isUploadEnabled:!0,isDownloadEnabled:!0,isCopyEnabled:!0,isMinimapVisible:!1,customControls:_,code:o,height:"500px",isLanguageLabelVisible:!0,language:E.b.json,onChange:c})]})]})}}],nt=function(e){return Object(T.jsxs)(O.d,{children:[at.map((function(e){return Object(T.jsx)(O.b,{component:e.component,path:e.path},e.path)})),Object(T.jsx)(O.a,{to:tt.aggregation()})]})},it=a(4),lt=a(418),rt=a(697),ot=a(688),ct=a(231),st=a(704),ut=a(689),dt=function(e){var t=Object(O.h)({path:e.to,exact:!0});return Object(T.jsx)(ot.a,{isActive:!!t,children:Object(T.jsx)(d.b,{to:e.to,children:e.children})})},pt=function(e){return Object(T.jsx)(ct.a,{children:Object(T.jsxs)(st.a,{children:[Object(T.jsx)(ut.a,{title:"Bundles",children:e.bundles.map((function(e){return Object(T.jsx)(dt,{to:tt.bundle(e.id),children:e.displayName},e.id)}))}),Object(T.jsx)(ut.a,{title:"Utils",isExpanded:!0,children:Object(T.jsx)(dt,{to:tt.messageValidator(),children:"Notification validator"})}),Object(T.jsx)(dt,{to:tt.email(),children:"Email templates"}),Object(T.jsx)(dt,{to:tt.aggregation(),children:"Aggregation"})]})})},mt=a.p+"static/media/redhat-logo.f7405300.svg",bt=Object(f.a)({width:150}),jt=function(){var e=o.a.useState(!0),t=Object(p.a)(e,2),a=t[0],n=t[1],l=o.a.useCallback((function(){return n((function(e){return!e}))}),[n]),c=function(){var e=Object(u.useClient)(),t=Object(rt.a)(),a=Object(r.useState)([]),n=Object(p.a)(a,2),l=n[0],o=n[1],c=Object(r.useState)(),s=Object(p.a)(c,2),d=s[0],m=s[1],b=Object(r.useCallback)(Object(C.a)(V.a.mark((function a(){var n,l,r,c,s,u,d,p,b,j;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l=e.query,m(!0),a.next=4,l(i.InternalResourceGetBundles.actionCreator());case 4:if(r=a.sent,200!==(null===(n=r.payload)||void 0===n?void 0:n.status)){a.next=18;break}c=r.payload.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,applications:[]}})),s=[],u=Object(it.a)(r.payload.value);try{for(u.s();!(d=u.n()).done;)(p=d.value).id&&s.push(l(i.InternalResourceGetApplications.actionCreator({bundleId:p.id})))}catch(y){u.e(y)}finally{u.f()}return a.next=12,Promise.all(s);case 12:return b=a.sent,j=b.map((function(e){return e.payload})).reduce((function(e,t){return Object(lt.a)(e,(function(e){if(200===(null===t||void 0===t?void 0:t.status)){var a=e.find((function(e){return t.value.length>0&&e.id===t.value[0].bundle_id}));a&&(a.applications=t.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,name:e.name,bundleId:e.bundle_id}})))}}))}),c),a.next=16,t(Promise.resolve((function(){return o(j)})));case 16:a.t0=a.sent,(0,a.t0)();case 18:m(!1);case 19:case"end":return a.stop()}}),a)}))),[e.query,t]);return Object(r.useEffect)((function(){b()}),[b]),{bundles:l,isLoading:d}}(),s=Object(u.useQuery)(i.InternalResourceGetServerInfo.actionCreator()),d=Object(r.useMemo)((function(){var e=s.payload;return 200===(null===e||void 0===e?void 0:e.status)?"PROD"===e.value.environment?{show:!0,content:"You are viewing the production environment - Any change you make here will be applied immediately and could disrupt the service."}:{show:!1}:{show:!0,content:"Could not load the current environment. Please verify the URL before making any change."}}),[s.payload]),f=Object(u.useQuery)(i.InternalPermissionResourceGetPermissions.actionCreator()),O=Object(T.jsx)(m.a,{showNavToggle:!0,logo:Object(T.jsx)(b.a,{className:bt,src:mt,alt:"Red Hat"}),logoProps:{href:"/internal"},isNavOpen:a,onNavToggle:l}),g=o.a.useMemo((function(){var e=f.payload;return 200===(null===e||void 0===e?void 0:e.status)?{isAdmin:e.value.is_admin,applications:e.value.applications.map((function(e){return{id:e.id,displayName:e.display_name}})),roles:e.value.roles,refresh:f.query}:{isAdmin:!1,applications:[],roles:[],refresh:f.query}}),[f.payload,f.query]);if(c.isLoading||s.loading||f.loading)return Object(T.jsx)(j.a,{header:O,children:Object(T.jsx)(y.a,{children:Object(T.jsx)(_.a,{})})});var E=Object(T.jsx)(v.a,{nav:Object(T.jsx)(pt,{bundles:c.bundles}),isNavOpen:a});return Object(T.jsx)(Q.Provider,{value:g,children:Object(T.jsxs)(j.a,{sidebar:E,header:O,children:[d.show&&Object(T.jsx)(y.a,{children:Object(T.jsx)(h.a,{variant:h.b.warning,title:d.content})}),Object(T.jsx)(nt,{})]})})},yt=Object(u.createClient)({responseInterceptors:[l.validateSchemaResponseInterceptor]});s.a.render(Object(T.jsx)(r.StrictMode,{children:Object(T.jsx)(d.a,{children:Object(T.jsx)(u.ClientContextProvider,{client:yt,children:Object(T.jsx)(jt,{})})})}),document.getElementById("root"))}},[[642,1,2]]]);
//# sourceMappingURL=main.aa5a39ae.chunk.js.map