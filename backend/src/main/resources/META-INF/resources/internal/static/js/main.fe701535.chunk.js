(this.webpackJsonpinternal=this.webpackJsonpinternal||[]).push([[0],{439:function(e,t,n){},646:function(e,t,n){"use strict";n.r(t);n(340);var a,i,l=n(85),r=n(7),o=n.n(r),c=n(187),d=n.n(c),s=n(102),u=n(205),p=n(15),b=(n(439),n(694)),m=n(678),j=n(332),v=n(656),y=n(430),h=n(265),O=n(683),f=n(101),_=n(695),g=n(680),x=n(657),E=n(655),I=n(21),w="\n// Here we can initialize the value of the Aggregation result.\nconst result = {\n};\n\n// This function will be called by every action that was sent to notification server\n// to update the result with its values.\nconst aggregate = (action) => {\n\n    return result;\n};\n".trimLeft(),T=n(8),S=n.n(T),R=n(204),C=n(660),V=n(661),N=n(688),A=n(689),P=n(297),k=n(213),B=n(666),G=n(667),D=n(685),L=n(662),q=n(663),M=n(681),U=n(664),F=n(679),H=n(80),z=r.createContext({isAdmin:!1,applications:[],roles:[],refresh:function(){throw new Error("Invalid use of refresh")}}),$=function(){var e=Object(r.useContext)(z),t=Object(r.useCallback)((function(t){return!!e.isAdmin||void 0!==e.applications.find((function(e){return e.id===t}))}),[e]);return Object(H.a)(Object(H.a)({},e),{},{hasPermission:t})},Q=n(665),W=n(43),J=n(36);!function(e){e.AddAccessRequest=J.e({application_id:h().optional().nullable(),role:J.g().optional().nullable()}).nonstrict(),e.AddApplicationRequest=J.e({bundle_id:h(),display_name:J.g(),name:J.g(),owner_role:J.g().optional().nullable()}).nonstrict(),e.Application=t(),e.Application1=n(),e.BasicAuthentication=a(),e.BehaviorGroup=J.e({actions:J.a(i()).optional().nullable(),bundle:r().optional().nullable(),bundle_id:h(),created:J.g().optional().nullable(),default_behavior:J.b().optional().nullable(),display_name:J.g(),id:h().optional().nullable(),updated:J.g().optional().nullable()}).nonstrict(),e.BehaviorGroupAction=i(),e.BehaviorGroupActionId=l(),e.Bundle=r(),e.CamelProperties=o(),e.CurrentStatus=J.e({end_time:J.g().optional().nullable(),start_time:J.g().optional().nullable(),status:y()}).nonstrict(),e.EmailSubscriptionProperties=c(),e.EmailSubscriptionType=J.c(["INSTANT","DAILY"]),e.Endpoint=d(),e.EndpointPage=J.e({data:J.a(d()),links:J.f(J.g()),meta:v()}).nonstrict(),e.EndpointProperties=J.i(),e.EndpointType=s(),e.Environment=u(),e.EventLogEntry=p(),e.EventLogEntryAction=b(),e.EventType=m(),e.Facet=J.e({displayName:J.g(),id:J.g(),name:J.g()}).nonstrict(),e.HttpType=j(),e.InternalApplicationUserPermission=J.e({application_display_name:J.g(),application_id:h(),role:J.g()}).nonstrict(),e.InternalRoleAccess=J.e({application_id:h(),id:h().optional().nullable(),role:J.g()}).nonstrict(),e.InternalUserPermissions=J.e({applications:J.a(n()),is_admin:J.b(),roles:J.a(J.g())}).nonstrict(),e.Meta=v(),e.NotificationHistory=J.e({created:J.g().optional().nullable(),details:J.f(J.i()).optional().nullable(),endpointId:h().optional().nullable(),id:h().optional().nullable(),invocationResult:J.b(),invocationTime:J.d().int()}).nonstrict(),e.PageEventLogEntry=J.e({data:J.a(p()),links:J.f(J.g()),meta:v()}).nonstrict(),e.PageEventType=J.e({data:J.a(m()),links:J.f(J.g()),meta:v()}).nonstrict(),e.RbacRaw=J.e({data:J.a(J.f(J.i())).optional().nullable(),links:J.f(J.g()).optional().nullable(),meta:J.f(J.d().int()).optional().nullable()}).nonstrict(),e.RenderEmailTemplateRequest=J.e({body_template:J.g(),payload:J.g(),subject_template:J.g()}).nonstrict(),e.RequestDefaultBehaviorGroupPropertyList=J.e({ignore_preferences:J.b(),only_admins:J.b()}).nonstrict(),e.RequestEmailSubscriptionProperties=J.e({only_admins:J.b()}).nonstrict(),e.ServerInfo=J.e({environment:u().optional().nullable()}).nonstrict(),e.Status=y(),e.UUID=h(),e.WebhookProperties=O(),e.__Empty=J.g().max(0).optional();function t(){return J.e({bundle_id:h(),created:J.g().optional().nullable(),display_name:J.g(),id:h().optional().nullable(),name:J.g(),updated:J.g().optional().nullable()}).nonstrict()}function n(){return J.e({display_name:J.g(),id:h()}).nonstrict()}function a(){return J.e({password:J.g().optional().nullable(),username:J.g().optional().nullable()}).nonstrict()}function i(){return J.e({created:J.g().optional().nullable(),endpoint:d().optional().nullable(),id:l().optional().nullable()}).nonstrict()}function l(){return J.e({behaviorGroupId:h(),endpointId:h()}).nonstrict()}function r(){return J.e({created:J.g().optional().nullable(),display_name:J.g(),id:h().optional().nullable(),name:J.g(),updated:J.g().optional().nullable()}).nonstrict()}function o(){return J.e({basic_authentication:a().optional().nullable(),disable_ssl_verification:J.b(),extras:J.f(J.g()).optional().nullable(),secret_token:J.g().optional().nullable(),sub_type:J.g().optional().nullable(),url:J.g()}).nonstrict()}function c(){return J.e({group_id:h().optional().nullable(),ignore_preferences:J.b(),only_admins:J.b()}).nonstrict()}function d(){return J.e({created:J.g().optional().nullable(),description:J.g(),enabled:J.b().optional().nullable(),id:h().optional().nullable(),name:J.g(),properties:J.h([O(),c(),o()]).optional().nullable(),sub_type:J.g().optional().nullable(),type:s(),updated:J.g().optional().nullable()}).nonstrict()}function s(){return J.c(["webhook","email_subscription","default","camel"])}function u(){return J.c(["PROD","STAGE","EPHEMERAL","LOCAL_SERVER"])}function p(){return J.e({actions:J.a(b()),application:J.g(),bundle:J.g(),created:J.g(),event_type:J.g(),id:h(),payload:J.g().optional().nullable()}).nonstrict()}function b(){return J.e({details:J.f(J.i()).optional().nullable(),endpoint_id:h().optional().nullable(),endpoint_sub_type:J.g().optional().nullable(),endpoint_type:s(),id:h(),invocation_result:J.b()}).nonstrict()}function m(){return J.e({application:t().optional().nullable(),application_id:h(),description:J.g().optional().nullable(),display_name:J.g(),id:h().optional().nullable(),name:J.g()}).nonstrict()}function j(){return J.c(["GET","POST","PUT"])}function v(){return J.e({count:J.d().int()}).nonstrict()}function y(){return J.c(["UP","MAINTENANCE"])}function h(){return J.g()}function O(){return J.e({basic_authentication:a().optional().nullable(),disable_ssl_verification:J.b(),method:j(),secret_token:J.g().optional().nullable(),url:J.g()}).nonstrict()}}(a||(a={})),function(e){var t,n,i,r,o,c,d,s,u,p,b,m,j,v,y,h,O,f,_,g,x,E,I,w,T,S,R,C,V,N,A,P,k,B,G,D,L,q;(t||(t=e.InternalServiceHttpRoot||(e.InternalServiceHttpRoot={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./").queryParams({}).config({rules:[new W.ValidateRule(a.__Empty,"__Empty",204),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},function(e){var t=J.a(a.InternalApplicationUserPermission);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./access").queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(n||(n=e.InternalPermissionServiceGetAccessList||(e.InternalPermissionServiceGetAccessList={}))),(i||(i=e.InternalPermissionServiceAddAccess||(e.InternalPermissionServiceAddAccess={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./access").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(a.InternalRoleAccess,"InternalRoleAccess",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},(r||(r=e.InternalPermissionServiceGetPermissions||(e.InternalPermissionServiceGetPermissions={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./access/me").queryParams({}).config({rules:[new W.ValidateRule(a.InternalUserPermissions,"InternalUserPermissions",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},(o||(o=e.InternalPermissionServiceDeleteAccess||(e.InternalPermissionServiceDeleteAccess={}))).actionCreator=function(e){var t="./access/{internalRoleAccessId}".replace("{internalRoleAccessId}",e.internalRoleAccessId.toString());return Object(l.actionBuilder)("DELETE",t).queryParams({}).config({rules:[new W.ValidateRule(a.__Empty,"__Empty",204),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},d=c||(c=e.AdminServiceDebugRbac||(e.AdminServiceDebugRbac={})),J.g(),d.actionCreator=function(e){var t={};return void 0!==e.rhid&&(t.rhid=e.rhid),Object(l.actionBuilder)("GET","./admin").queryParams(t).config({rules:[new W.ValidateRule(a.__Empty,"__Empty",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},u=s||(s=e.AdminServiceSetAdminDown||(e.AdminServiceSetAdminDown={})),J.g(),u.actionCreator=function(e){var t={};return void 0!==e.status&&(t.status=e.status),Object(l.actionBuilder)("POST","./admin/status").queryParams(t).config({rules:[new W.ValidateRule(a.__Empty,"__Empty",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},(p||(p=e.InternalServiceCreateApplication||(e.InternalServiceCreateApplication={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./applications").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(a.Application,"Application",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},(b||(b=e.InternalServiceGetApplication||(e.InternalServiceGetApplication={}))).actionCreator=function(e){var t="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new W.ValidateRule(a.Application,"Application",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},(m||(m=e.InternalServiceUpdateApplication||(e.InternalServiceUpdateApplication={}))).actionCreator=function(e){var t="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(a.__Empty,"__Empty",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},function(e){var t=J.b();e.actionCreator=function(e){var n="./applications/{appId}".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("DELETE",n).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(j||(j=e.InternalServiceDeleteApplication||(e.InternalServiceDeleteApplication={}))),function(e){var t=J.a(a.EventType);e.actionCreator=function(e){var n="./applications/{appId}/eventTypes".replace("{appId}",e.appId.toString());return Object(l.actionBuilder)("GET",n).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(v||(v=e.InternalServiceGetEventTypes||(e.InternalServiceGetEventTypes={}))),function(e){var t=J.a(a.BehaviorGroup);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./behaviorGroups/default").queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(y||(y=e.InternalServiceGetDefaultBehaviorGroups||(e.InternalServiceGetDefaultBehaviorGroups={}))),(h||(h=e.InternalServiceCreateDefaultBehaviorGroup||(e.InternalServiceCreateDefaultBehaviorGroup={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./behaviorGroups/default").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(a.BehaviorGroup,"BehaviorGroup",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},function(e){J.a(a.RequestDefaultBehaviorGroupPropertyList);var t=J.g();e.actionCreator=function(e){var n="./behaviorGroups/default/{behaviorGroupId}/actions".replace("{behaviorGroupId}",e.behaviorGroupId.toString());return Object(l.actionBuilder)("PUT",n).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(O||(O=e.InternalServiceUpdateDefaultBehaviorGroupActions||(e.InternalServiceUpdateDefaultBehaviorGroupActions={}))),function(e){var t=J.g();e.actionCreator=function(e){var n="./behaviorGroups/default/{behaviorGroupId}/eventType/{eventTypeId}".replace("{behaviorGroupId}",e.behaviorGroupId.toString()).replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("PUT",n).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(f||(f=e.InternalServiceLinkDefaultBehaviorToEventType||(e.InternalServiceLinkDefaultBehaviorToEventType={}))),function(e){var t=J.g();e.actionCreator=function(e){var n="./behaviorGroups/default/{behaviorGroupId}/eventType/{eventTypeId}".replace("{behaviorGroupId}",e.behaviorGroupId.toString()).replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("DELETE",n).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(_||(_=e.InternalServiceUnlinkDefaultBehaviorToEventType||(e.InternalServiceUnlinkDefaultBehaviorToEventType={}))),function(e){var t=J.b();e.actionCreator=function(e){var n="./behaviorGroups/default/{id}".replace("{id}",e.id.toString());return Object(l.actionBuilder)("PUT",n).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(g||(g=e.InternalServiceUpdateDefaultBehaviorGroup||(e.InternalServiceUpdateDefaultBehaviorGroup={}))),function(e){var t=J.b();e.actionCreator=function(e){var n="./behaviorGroups/default/{id}".replace("{id}",e.id.toString());return Object(l.actionBuilder)("DELETE",n).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(x||(x=e.InternalServiceDeleteDefaultBehaviorGroup||(e.InternalServiceDeleteDefaultBehaviorGroup={}))),function(e){var t=J.a(a.Bundle);e.actionCreator=function(){return Object(l.actionBuilder)("GET","./bundles").queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(E||(E=e.InternalServiceGetBundles||(e.InternalServiceGetBundles={}))),(I||(I=e.InternalServiceCreateBundle||(e.InternalServiceCreateBundle={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./bundles").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(a.Bundle,"Bundle",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},(w||(w=e.InternalServiceGetBundle||(e.InternalServiceGetBundle={}))).actionCreator=function(e){var t="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("GET",t).queryParams({}).config({rules:[new W.ValidateRule(a.Bundle,"Bundle",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},(T||(T=e.InternalServiceUpdateBundle||(e.InternalServiceUpdateBundle={}))).actionCreator=function(e){var t="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(a.__Empty,"__Empty",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},function(e){var t=J.b();e.actionCreator=function(e){var n="./bundles/{bundleId}".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("DELETE",n).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(S||(S=e.InternalServiceDeleteBundle||(e.InternalServiceDeleteBundle={}))),function(e){var t=J.a(a.Application);e.actionCreator=function(e){var n="./bundles/{bundleId}/applications".replace("{bundleId}",e.bundleId.toString());return Object(l.actionBuilder)("GET",n).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(R||(R=e.InternalServiceGetApplications||(e.InternalServiceGetApplications={}))),(C||(C=e.InternalServiceCreateEventType||(e.InternalServiceCreateEventType={}))).actionCreator=function(e){return Object(l.actionBuilder)("POST","./eventTypes").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(a.EventType,"EventType",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},(V||(V=e.InternalServiceUpdateEventType||(e.InternalServiceUpdateEventType={}))).actionCreator=function(e){var t="./eventTypes/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("PUT",t).queryParams({}).data(e.body).config({rules:[new W.ValidateRule(a.__Empty,"__Empty",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},function(e){var t=J.b();e.actionCreator=function(e){var n="./eventTypes/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString());return Object(l.actionBuilder)("DELETE",n).queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(N||(N=e.InternalServiceDeleteEventType||(e.InternalServiceDeleteEventType={}))),(A||(A=e.InternalServiceGetServerInfo||(e.InternalServiceGetServerInfo={}))).actionCreator=function(){return Object(l.actionBuilder)("GET","./serverInfo").queryParams({}).config({rules:[new W.ValidateRule(a.ServerInfo,"ServerInfo",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},(P||(P=e.InternalServiceSetCurrentStatus||(e.InternalServiceSetCurrentStatus={}))).actionCreator=function(e){return Object(l.actionBuilder)("PUT","./status").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(a.__Empty,"__Empty",204),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()},(k||(k=e.TemplateEngineClient$$cdiWrapperRender||(e.TemplateEngineClient$$cdiWrapperRender={}))).actionCreator=function(e){return Object(l.actionBuilder)("PUT","./template-engine/render").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(a.__Empty,"__Empty",200)]}).build()},function(e){J.g(),J.g(),a.EmailSubscriptionType;var t=J.b();e.actionCreator=function(e){var n={};return void 0!==e.applicationName&&(n.applicationName=e.applicationName),void 0!==e.bundleName&&(n.bundleName=e.bundleName),void 0!==e.subscriptionType&&(n.subscriptionType=e.subscriptionType),Object(l.actionBuilder)("GET","./template-engine/subscription_type_supported").queryParams(n).config({rules:[new W.ValidateRule(t,"unknown",200)]}).build()}}(B||(B=e.TemplateEngineClient$$cdiWrapperIsSubscriptionTypeSupported||(e.TemplateEngineClient$$cdiWrapperIsSubscriptionTypeSupported={}))),function(e){var t=J.e({body:J.g().optional().nullable(),subject:J.g().optional().nullable()}).nonstrict(),n=J.e({message:J.g().optional().nullable()}).nonstrict();e.actionCreator=function(e){return Object(l.actionBuilder)("POST","./templates/email/render").queryParams({}).data(e.body).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(n,"unknown",400),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(G||(G=e.InternalServiceRenderEmailTemplate||(e.InternalServiceRenderEmailTemplate={}))),L=D||(D=e.ValidationEndpointValidate||(e.ValidationEndpointValidate={})),J.g(),J.g(),J.g(),L.actionCreator=function(e){var t={};return void 0!==e.application&&(t.application=e.application),void 0!==e.bundle&&(t.bundle=e.bundle),void 0!==e.eventType&&(t.eventType=e.eventType),Object(l.actionBuilder)("GET","./validation/baet").queryParams(t).config({rules:[new W.ValidateRule(a.__Empty,"__Empty",200)]}).build()},function(e){var t=J.g();e.actionCreator=function(){return Object(l.actionBuilder)("GET","./version").queryParams({}).config({rules:[new W.ValidateRule(t,"unknown",200),new W.ValidateRule(a.__Empty,"__Empty",401),new W.ValidateRule(a.__Empty,"__Empty",403)]}).build()}}(q||(q=e.InternalServiceGetVersion||(e.InternalServiceGetVersion={})))}(i||(i={}));var Y=Object(W.validationResponseTransformer)((function(e){if(200===e.status){var t,n={id:null!==(t=e.value.id)&&void 0!==t?t:"",displayName:e.value.display_name,name:e.value.name,bundleId:e.value.bundle_id};return Object(W.validatedResponse)("Application",200,n,e.errors)}return e})),K=function(e){var t=Object(s.useQuery)(i.InternalServiceGetApplication.actionCreator({appId:e})),n=Object(r.useMemo)((function(){var e=t.payload;if(e)return Y(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(H.a)(Object(H.a)({},t),{},{payload:n})}),[t,n])},X=n(687),Z=n(422),ee=Object(W.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){var t,n;return{id:null!==(t=e.id)&&void 0!==t?t:"",name:e.name,displayName:e.display_name,description:null!==(n=e.description)&&void 0!==n?n:"",applicationId:e.application_id}}));return Object(W.validatedResponse)("EventTypes",200,t,e.errors)}return e})),te=function(e){var t=Object(s.useQuery)(i.InternalServiceGetEventTypes.actionCreator({appId:e})),n=Object(r.useMemo)((function(){var e=t.payload;if(e)return ee(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(H.a)(Object(H.a)({},t),{},{payload:n})}),[t,n])},ne=function(e){var t,n=te(e.appId);return n.loading?Object(I.jsx)(y.a,{}):200!==(null===(t=n.payload)||void 0===t?void 0:t.status)?Object(I.jsxs)("span",{children:["Error while loading eventtypes: ",n.errorObject.toString()]}):Object(I.jsxs)(r.Fragment,{children:[Object(I.jsx)(X.a,{children:0===n.payload.value.length?"No event types":""}),Object(I.jsx)(X.a,{children:n.payload.value.map((function(e){return Object(I.jsx)(Z.a,{isReadOnly:!0,children:e.displayName},e.id)}))})]})},ae=n(682),ie=n(658),le=n(659),re=function(e){return Object(I.jsx)(o.a.Fragment,{children:Object(I.jsx)(ae.a,{variant:ae.b.medium,title:" Email Template for ".concat(e.applicationName),isOpen:e.showModal,onClose:e.onClose,children:Object(I.jsxs)(ie.a,{isHorizontal:!0,children:["Viewing modal for existing templates",Object(I.jsx)(le.a,{children:Object(I.jsx)(k.a,{variant:"primary",type:"reset",onClick:e.onClose,children:"Close"})})]})})})},oe=function(){var e,t,n,a,i=$().hasPermission,l=Object(f.g)().applicationId,o=K(l),c=r.useState(!1),d=Object(p.a)(c,2),s=d[0],b=d[1],m=function(){b(!0)},j=r.useMemo((function(){var e;if(200===(null===(e=o.payload)||void 0===e?void 0:e.status))return o.payload.value}),[null===(e=o.payload)||void 0===e?void 0:e.status,null===(t=o.payload)||void 0===t?void 0:t.value]);return Object(I.jsx)(r.Fragment,{children:Object(I.jsxs)(v.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h1",children:Object(I.jsx)(C.a,{children:Object(I.jsxs)(V.a,{target:"#",children:[" Email Template for ",null!==(n=null===j||void 0===j?void 0:j.displayName)&&void 0!==n?n:""]})})}),Object(I.jsxs)(D.a,{"aria-label":"Email Template table",children:[Object(I.jsxs)(L.a,{children:[Object(I.jsx)(N.a,{children:Object(I.jsx)(A.a,{children:Object(I.jsxs)(P.a,{children:[Object(I.jsx)(k.a,{variant:"primary",isDisabled:!j||!i(null===j||void 0===j?void 0:j.id),component:function(e){return Object(I.jsx)(u.b,Object(H.a)(Object(H.a)({},e),{},{to:Fe.emailTemplates}))},children:"Create Email Template"}),Object(I.jsx)(re,{showModal:s,applicationName:null!==(a=null===j||void 0===j?void 0:j.displayName)&&void 0!==a?a:"",onClose:function(){b(!1)}})]})})}),Object(I.jsx)(q.a,{children:["Email Template","Event Types"].map((function(e,t){return Object(I.jsx)(M.a,{children:e},t)}))})]}),Object(I.jsx)(U.a,{children:[{displayName:"email template 1",id:"1",eventType:"event Type 1"},{displayName:"email template 2",id:"2",eventType:"event Type 2"},{displayName:"email template 3",id:"3",eventType:"event Type 3"},{displayName:"email template 4",id:"4",eventType:"event Type 4"}].map((function(e){var t;return Object(I.jsxs)(q.a,{children:[Object(I.jsx)(F.a,{children:e.displayName}),Object(I.jsx)(F.a,{children:Object(I.jsx)(ne,{appId:null!==(t=null===j||void 0===j?void 0:j.id)&&void 0!==t?t:""})}),Object(I.jsx)(F.a,{children:Object(I.jsxs)(k.a,{className:"view",type:"button",variant:"plain",onClick:m,children:[" ",Object(I.jsx)(Q.a,{})," "]})}),Object(I.jsx)(F.a,{children:Object(I.jsxs)(k.a,{className:"edit",type:"button",variant:"plain",isDisabled:!0,children:[" ",Object(I.jsx)(B.a,{})," "]})}),Object(I.jsx)(F.a,{children:Object(I.jsxs)(k.a,{className:"delete",type:"button",variant:"plain",isDisabled:!0,children:[Object(I.jsx)(G.a,{})," "]})})]},e.id)}))})]})]})})},ce=n(29),de=n(690),se=n(668),ue=n(691),pe=n(669),be=n(692),me=function(e){var t,n=o.a.useState(null!==(t=e.initialEventType)&&void 0!==t?t:{}),a=Object(p.a)(n,2),i=a[0],l=a[1],r=function(e,t){var n=t.target;l((function(e){return Object(H.a)(Object(H.a)({},e),{},Object(ce.a)({},n.name,n.value))}))},c=o.a.useCallback((function(){e.onSubmit(i)}),[i,e]);return o.a.useEffect((function(){var t;l(null!==(t=e.initialEventType)&&void 0!==t?t:{})}),[e.initialEventType]),Object(I.jsx)(o.a.Fragment,{children:Object(I.jsx)(ae.a,{variant:ae.b.medium,title:"".concat(e.isEdit?"Update":"Create"," Event Type for ").concat(e.applicationName),isOpen:e.showModal,onClose:e.onClose,children:Object(I.jsxs)(ie.a,{isHorizontal:!0,children:[Object(I.jsx)(de.a,{label:"Name",fieldId:"name",isRequired:!0,helperText:e.isEdit?Object(I.jsx)(se.a,{children:Object(I.jsx)(ue.a,{variant:"warning",hasIcon:!0,children:"If this field is modified it may affect exisiting behavior."})}):"This is a short name, only composed of a-z 0-9 and - characters.",children:Object(I.jsx)(pe.a,{type:"text",value:i.name,onChange:r,id:"name",name:"name"})}),Object(I.jsx)(de.a,{label:"Display name",fieldId:"display-name",isRequired:!0,helperText:"This is the name you want to display on the UI",children:Object(I.jsx)(pe.a,{type:"text",value:i.displayName,onChange:r,id:"display-name",name:"displayName"})}),Object(I.jsx)(de.a,{label:"Description",fieldId:"description",helperText:"Optional short description that appears in the UI to help admin decide how to notify users.",children:Object(I.jsx)(be.a,{type:"text",value:i.description,onChange:r,id:"description",name:"description"})}),Object(I.jsxs)(le.a,{children:[Object(I.jsx)(k.a,{variant:"primary",type:"submit",isLoading:e.isLoading,isDisabled:e.isLoading,onClick:c,children:e.isEdit?"Update":"Submit"}),Object(I.jsx)(k.a,{variant:"link",type:"reset",onClick:e.onClose,children:"Cancel"})]})]})})})},je=function(e){var t=o.a.useState(!0),n=Object(p.a)(t,2),a=n[0],i=n[1],l=o.a.useCallback(Object(R.a)(S.a.mark((function t(){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.onDelete,t.next=3,n();case 3:t.sent?e.onClose():alert("Could not delete event type, please try again.");case 5:case"end":return t.stop()}}),t)}))),[e]);return Object(I.jsx)(o.a.Fragment,{children:Object(I.jsxs)(ae.a,{variant:ae.b.small,titleIconVariant:"warning",isOpen:e.isOpen,onClose:e.onClose,title:"Permanently delete ".concat(e.eventTypeName),children:[Object(I.jsx)("b",{children:e.eventTypeName})," ","from  ".concat(e.applicationName,"/").concat(e.bundleName?e.bundleName:Object(I.jsx)(y.a,{})," will be deleted. \n                        If an application is currently sending this event, it will no longer be processed."),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"Type ",Object(I.jsx)("b",{children:e.eventTypeName})," to confirm:",Object(I.jsx)("br",{}),Object(I.jsx)(pe.a,{type:"text",onChange:function(t,n){var a=n.target;return a.value!==e.eventTypeName?i(!0):a.value===e.eventTypeName?i(!1):void 0},id:"name",name:"name",isRequired:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(le.a,{children:[Object(I.jsx)(k.a,{variant:"danger",type:"button",isDisabled:a,onClick:l,children:"Delete"}),Object(I.jsx)(k.a,{variant:"link",type:"button",onClick:e.onClose,children:"Cancel"})]})]})})},ve=n(429),ye=["href"],he=function(e){var t=e.href,n=Object(ve.a)(e,ye);return Object(I.jsx)(u.b,Object(H.a)(Object(H.a)({to:t},n),{},{children:e.children}))},Oe=function(e){return Object(I.jsx)(V.a,Object(H.a)(Object(H.a)({},e),{},{component:he,children:e.children}))},fe=function(e){return void 0===e.id?i.InternalServiceCreateEventType.actionCreator({body:{id:e.id,application_id:e.applicationId,description:e.description,display_name:e.displayName,name:e.name}}):i.InternalServiceUpdateEventType.actionCreator({eventTypeId:e.id,body:{id:e.id,application_id:e.applicationId,description:e.description,display_name:e.displayName,name:e.name}})},_e=function(e){return i.InternalServiceDeleteEventType.actionCreator({eventTypeId:e})},ge=function(e){return i.InternalServiceGetBundle.actionCreator({bundleId:e})},xe=n(670),Ee=n(671),Ie=function(e){var t=$(),n=o.a.useState(Object(H.a)({},e.initialApplication)),a=Object(p.a)(n,2),i=a[0],l=a[1],r=function(e,t){var n=t.target;l((function(e){return Object(H.a)(Object(H.a)({},e),{},Object(ce.a)({},n.name,n.value))}))},c=o.a.useCallback((function(){e.onSubmit(i)}),[i,e]);return o.a.useEffect((function(){void 0===i.ownerRole&&t.roles.length>0&&l((function(e){return Object(H.a)(Object(H.a)({},e),{},{ownerRole:t.roles[0]})}))}),[t.roles,i.ownerRole]),Object(I.jsx)(o.a.Fragment,{children:Object(I.jsx)(ae.a,{variant:ae.b.medium,title:"".concat(e.isEdit?"Update ".concat(e.applicationName):"Create Application"," for ").concat(e.bundleName),isOpen:e.showModal,onClose:e.onClose,children:Object(I.jsxs)(ie.a,{isHorizontal:!0,children:[Object(I.jsx)(de.a,{label:"Name",fieldId:"name",isRequired:!0,helperText:e.isEdit?Object(I.jsx)(se.a,{children:Object(I.jsx)(ue.a,{variant:"warning",hasIcon:!0,children:"If this field is modified it may affect exisiting behavior."})}):"This is a short name, only composed of a-z 0-9 and - characters.",children:Object(I.jsx)(pe.a,{type:"text",value:i.name,onChange:r,id:"name",name:"name"})}),Object(I.jsx)(de.a,{label:"Display name",fieldId:"display-name",isRequired:!0,helperText:"This is the name you want to display on the UI",children:Object(I.jsx)(pe.a,{type:"text",value:i.displayName,onChange:r,id:"display-name",name:"displayName"})}),!e.isEdit&&Object(I.jsx)(de.a,{fieldId:"role-name",label:"Role admin",isRequired:!0,helperText:"Role of users who will manage the application",children:t.isAdmin?Object(I.jsx)(pe.a,{type:"text",onChange:r,value:i.ownerRole,id:"owner-role",name:"ownerRole"}):Object(I.jsx)(xe.a,{value:i.ownerRole,onChange:r,id:"owner-role",name:"ownerRole",children:t.roles.map((function(e){return Object(I.jsx)(Ee.a,{label:e,value:e},e)}))})}),Object(I.jsxs)(le.a,{children:[Object(I.jsx)(k.a,{variant:"primary",type:"submit",isLoading:e.isLoading,isDisabled:e.isLoading,onClick:c,children:e.isEdit?"Update":"Submit"}),Object(I.jsx)(k.a,{variant:"link",type:"reset",onClick:e.onClose,children:"Cancel"})]})]})})})},we=function(e){var t=o.a.useState(!0),n=Object(p.a)(t,2),a=n[0],i=n[1],l=o.a.useCallback(Object(R.a)(S.a.mark((function t(){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.onDelete,t.next=3,n();case 3:t.sent?e.onClose():alert("Could not delete application, please try again.");case 5:case"end":return t.stop()}}),t)}))),[e]);return Object(I.jsx)(o.a.Fragment,{children:Object(I.jsxs)(ae.a,{variant:ae.b.small,titleIconVariant:"warning",isOpen:e.isOpen,onClose:e.onClose,title:"Permanently delete ".concat(e.applicationName),children:[Object(I.jsx)("b",{children:e.applicationName})," ","from ".concat(e.bundleName?e.bundleName:Object(I.jsx)(y.a,{})," will be deleted. \n                        By deleting this application all associated event types will be deleted and no longer processed. "),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"Type ",Object(I.jsx)("b",{children:e.applicationName})," to confirm:",Object(I.jsx)("br",{}),Object(I.jsx)(pe.a,{type:"text",onChange:function(t,n){var a=n.target;return a.value!==e.applicationName?i(!0):a.value===e.applicationName?i(!1):void 0},id:"name",name:"name",isRequired:!0}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(le.a,{children:[Object(I.jsx)(k.a,{variant:"danger",type:"button",isDisabled:a,onClick:l,children:"Delete"}),Object(I.jsx)(k.a,{variant:"link",type:"button",onClick:e.onClose,children:"Cancel"})]})]})})},Te=function(e){return void 0===e.id?i.InternalServiceCreateApplication.actionCreator({body:{bundle_id:e.bundleId,display_name:e.displayName,name:e.name,owner_role:e.ownerRole}}):i.InternalServiceUpdateApplication.actionCreator({appId:e.id,body:{id:e.id,bundle_id:e.bundleId,display_name:e.displayName,name:e.name}})},Se=function(e){return i.InternalServiceDeleteApplication.actionCreator({appId:e})},Re=Object(W.validationResponseTransformer)((function(e){if(200===e.status){var t=e.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,bundleId:e.bundle_id,name:e.name}}));return Object(W.validatedResponse)("Applications",200,t,e.errors)}return e})),Ce=Object(W.validationResponseTransformer)((function(e){if(200===e.status){var t,n={id:null!==(t=e.value.id)&&void 0!==t?t:"",displayName:e.value.display_name,applications:[]};return Object(W.validatedResponse)("Bundle",200,n,e.errors)}return e})),Ve=n(672),Ne=n(673),Ae="\nImportant email to {user.firstName} from MyCoolApp!\n".trimLeft(),Pe='\n<div>Hello {user.firstName} {user.lastName},</div>\n<div>We have some important news for you, MyApp has a notification for you</div>\n<div>As a reminder, current user: {user.username}: is active? {user.isActive}; is admin? {user.isAdmin}</div>\n<div>\n    System with name <strong>{action.context.display_name}</strong> (<strong>{action.context.inventory_id}</strong>) \n    did a check in at {action.context.system_check_in.toUtcFormat()}. \n    It was about {action.context.system_check_in.toTimeAgo()}\n</div>\n<div>This is a loop:</div>\n{#if action.events.size() > 0}\n<ul>\n    {#each action.events}\n        <li>\n            <a href="http://google.com?q={it.payload.my_id}" target="_blank">{it.payload.my_name}</a>\n        </li>\n    {/each}\n</ul>\n<div>Have a nice day!</div>\n{/if}\n'.trimLeft(),ke=JSON.stringify({bundle:"rhel",application:"policies",event_type:"policy-triggered",timestamp:"2021-08-05T16:21:14.243",account_id:"5758117",context:'{"inventory_id":"80f7e57d-a16a-4189-82af-1d68a747c8b3","system_check_in":"2021-08-05T16:21:12.953036","display_name":"cool display name"}',events:[{metadata:{},payload:'{"my_id":"3df53241-3e09-481b-a322-4892caaaaadc","my_name":"Red color"}'},{metadata:{},payload:'{"my_id":"6c5e8451-a40a-4bb7-ab9a-0cb10a4c577d","my_name":"Green color"}'},{metadata:{},payload:'{"my_id":"b4c6378a-c1fb-4d3e-8e9b-7e5bdfc09dd3","my_name":"Blue color"}'}]},null,2),Be=n(674),Ge=n(675),De=function(e){return i.InternalServiceRenderEmailTemplate.actionCreator({body:{subject_template:e.subject,body_template:e.body,payload:e.payload}})},Le="\nImportant email to {user.firstName} from MyCoolApp!\n".trimLeft(),qe='\n<div>Hello {user.firstName} {user.lastName},</div>\n<div>We have some important news for you, MyApp has a notification for you</div>\n<div>As a reminder, current user: {user.username}: is active? {user.isActive}; is admin? {user.isAdmin}</div>\n<div>\n    System with name <strong>{action.context.display_name}</strong> (<strong>{action.context.inventory_id}</strong>) \n    did a check in at {action.context.system_check_in.toUtcFormat()}. \n    It was about {action.context.system_check_in.toTimeAgo()}\n</div>\n<div>This is a loop:</div>\n{#if action.events.size() > 0}\n<ul>\n    {#each action.events}\n        <li>\n            <a href="http://google.com?q={it.payload.my_id}" target="_blank">{it.payload.my_name}</a>\n        </li>\n    {/each}\n</ul>\n<div>Have a nice day!</div>\n{/if}\n'.trimLeft(),Me=JSON.stringify({bundle:"rhel",application:"policies",event_type:"policy-triggered",timestamp:"2021-08-05T16:21:14.243",account_id:"5758117",context:'{"inventory_id":"80f7e57d-a16a-4189-82af-1d68a747c8b3","system_check_in":"2021-08-05T16:21:12.953036","display_name":"cool display name"}',events:[{metadata:{},payload:'{"my_id":"3df53241-3e09-481b-a322-4892caaaaadc","my_name":"Red color"}'},{metadata:{},payload:'{"my_id":"6c5e8451-a40a-4bb7-ab9a-0cb10a4c577d","my_name":"Green color"}'},{metadata:{},payload:'{"my_id":"b4c6378a-c1fb-4d3e-8e9b-7e5bdfc09dd3","my_name":"Blue color"}'}]},null,2),Ue=function(e){return e.isLoading?Object(I.jsx)(y.a,{}):e.succeeded?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Be.a,{children:Object(I.jsxs)("span",{children:[Object(I.jsx)("strong",{children:"Subject:"})," ",e.subject]})}),Object(I.jsx)(Be.a,{children:Object(I.jsx)("strong",{children:"Body:"})}),Object(I.jsx)(Be.a,{children:Object(I.jsx)("iframe",{width:"100%",srcDoc:e.body})})]}):Object(I.jsx)(Be.a,{children:Object(I.jsx)(se.a,{children:Object(I.jsx)(ue.a,{variant:"error",children:e.error})})})},Fe={bundle:function(e){return"/bundle/".concat(e)},application:function(e){return"/application/".concat(e)},aggregation:function(){return"/aggregation"},email:function(){return"/email"},emailTemplates:function(){return"/emailTemplates"}},He=[{path:Fe.aggregation(),component:function(){var e=r.useCallback((function(e,t){e.layout(),e.focus(),t.editor.getModels()[0].updateOptions({tabSize:5})}),[]),t=r.useCallback((function(e){}),[]),n=Object(r.useMemo)((function(){return[Object(I.jsx)(_.a,{icon:Object(I.jsx)(E.a,{}),toolTipText:"Test aggregation",onClick:function(){return console.log("testing")},isVisible:!0},"test")]}),[]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(v.a,{children:Object(I.jsx)(x.a,{headingLevel:"h1",children:"Aggregation templates"})}),Object(I.jsx)(v.a,{children:Object(I.jsx)(g.a,{isDownloadEnabled:!0,isUploadEnabled:!0,customControls:n,isLineNumbersVisible:!0,isLanguageLabelVisible:!0,isMinimapVisible:!1,language:g.b.javascript,onEditorDidMount:e,onChange:t,code:w,height:"300px"})})]})}},{path:Fe.application(":applicationId"),component:function(){var e,t,n,a,i,l,o=$(),c=o.hasPermission,d=o.isAdmin,u=Object(f.g)().applicationId,b=te(u),m=K(u),j=Object(s.useMutation)(_e),h=Object(s.useMutation)(fe),O=r.useState({}),_=Object(p.a)(O,2),g=_[0],E=_[1],w=r.useState(!1),T=Object(p.a)(w,2),H=T[0],z=T[1],Q=r.useState(!1),W=Object(p.a)(Q,2),J=W[0],Y=W[1],X=r.useState(!1),Z=Object(p.a)(X,2),ee=Z[0],ne=Z[1],ae=r.useMemo((function(){var e;if("Application"===(null===(e=m.payload)||void 0===e?void 0:e.type))return m.payload.value.bundleId}),[m.payload]),ie=Object(s.useParameterizedQuery)(ge);r.useEffect((function(){var e=ie.query;ae&&e(ae)}),[ae,ie.query]);var le=Object(r.useMemo)((function(){var e;if(200===(null===(e=ie.payload)||void 0===e?void 0:e.status))return ie.payload.value}),[null===(e=ie.payload)||void 0===e?void 0:e.status,null===(t=ie.payload)||void 0===t?void 0:t.value]),re=Object(r.useMemo)((function(){var e;if(200===(null===(e=m.payload)||void 0===e?void 0:e.status))return m.payload.value}),[null===(n=m.payload)||void 0===n?void 0:n.status,null===(a=m.payload)||void 0===a?void 0:a.value]),ce=r.useCallback((function(e){var t,n,a;z(!1),(0,h.mutate)({id:e.id,displayName:null!==(t=e.displayName)&&void 0!==t?t:"",name:null!==(n=e.name)&&void 0!==n?n:"",description:null!==(a=e.description)&&void 0!==a?a:"",applicationId:u}).then(b.query)}),[u,b.query,h.mutate]),de=r.useCallback(Object(R.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!1),t=j.mutate,e.next=4,t(g.id);case 4:if(!e.sent.error){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),[j.mutate,g.id]);return b.loading?Object(I.jsx)(y.a,{}):200!==(null===(i=b.payload)||void 0===i?void 0:i.status)?Object(I.jsxs)("span",{children:["Error while loading eventtypes: ",b.errorObject.toString()]}):Object(I.jsxs)(r.Fragment,{children:[Object(I.jsxs)(v.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h1",children:Object(I.jsxs)(C.a,{children:[Object(I.jsx)(V.a,{target:"#",children:" Bundles "}),Object(I.jsx)(Oe,{to:Fe.bundle(null!==ae&&void 0!==ae?ae:""),children:le?le.display_name:Object(I.jsx)(y.a,{})}),Object(I.jsxs)(V.a,{to:"#",isActive:!0,children:[" ",m.loading||200!==(null===(l=m.payload)||void 0===l?void 0:l.status)?Object(I.jsx)(y.a,{}):m.payload.value.displayName]})]})}),Object(I.jsxs)(D.a,{"aria-label":"Event types table",children:[Object(I.jsxs)(L.a,{children:[Object(I.jsx)(N.a,{children:Object(I.jsx)(A.a,{children:Object(I.jsxs)(P.a,{children:[Object(I.jsx)(k.a,{variant:"primary",type:"button",isDisabled:!re||!c(null===re||void 0===re?void 0:re.id),onClick:function(){z(!0),Y(!1),E({})},children:" Create Event Type "}),Object(I.jsx)(me,{isEdit:J,initialEventType:g,showModal:H,applicationName:null===re||void 0===re?void 0:re.displayName,onClose:function(){z(!1),b.query()},onSubmit:ce,isLoading:b.loading}),Object(I.jsx)(r.Fragment,{children:Object(I.jsx)(je,{onDelete:de,isOpen:ee,onClose:function(){ne(!1),b.query()},eventTypeName:g.name,applicationName:null===re||void 0===re?void 0:re.displayName,bundleName:null===le||void 0===le?void 0:le.display_name})})]})})}),Object(I.jsx)(q.a,{children:["Event Type","Name","Description","Event Type Id"].map((function(e,t){return Object(I.jsx)(M.a,{children:e},t)}))})]}),Object(I.jsx)(U.a,{children:0===b.payload.value.length?"There are no event types found for this application":""}),Object(I.jsx)(U.a,{children:b.payload.value.map((function(e){return Object(I.jsxs)(q.a,{children:[Object(I.jsx)(F.a,{children:e.displayName}),Object(I.jsx)(F.a,{children:e.name}),Object(I.jsx)(F.a,{children:e.description}),Object(I.jsx)(F.a,{children:e.id}),Object(I.jsx)(F.a,{children:Object(I.jsxs)(k.a,{className:"edit",type:"button",variant:"plain",isDisabled:!re||!c(null===re||void 0===re?void 0:re.id),onClick:function(){return function(e){z(!0),Y(!0),E(e)}(e)},children:[" ",Object(I.jsx)(B.a,{})," "]})}),Object(I.jsx)(F.a,{children:Object(I.jsxs)(k.a,{className:"delete",type:"button",variant:"plain",isDisabled:!re||!c(null===re||void 0===re?void 0:re.id),onClick:function(){return function(e){ne(!0),E(e)}(e)},children:[Object(I.jsx)(G.a,{})," "]})})]},e.id)}))})]})]}),d&&Object(I.jsx)(oe,{})]})}},{path:Fe.bundle(":bundleId"),component:function(){var e,t,n,a,l=$(),o=l.hasPermission,c=l.refresh,d=l.isAdmin,b=Object(f.g)().bundleId,m=function(e){var t=Object(s.useQuery)(i.InternalServiceGetBundle.actionCreator({bundleId:e})),n=Object(r.useMemo)((function(){var e=t.payload;if(e)return Ce(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(H.a)(Object(H.a)({},t),{},{payload:n})}),[t,n])}(b),j=function(e){var t=Object(s.useQuery)(i.InternalServiceGetApplications.actionCreator({bundleId:e})),n=Object(r.useMemo)((function(){var e=t.payload;if(e)return Re(e)}),[t.payload]);return Object(r.useMemo)((function(){return Object(H.a)(Object(H.a)({},t),{},{payload:n})}),[t,n])}(b),h=Object(s.useMutation)(Te),O=Object(s.useMutation)(Se),_=r.useState({}),g=Object(p.a)(_,2),E=g[0],w=g[1],T=r.useState(!1),z=Object(p.a)(T,2),Q=z[0],W=z[1],J=r.useState(!1),Y=Object(p.a)(J,2),K=Y[0],X=Y[1],Z=r.useState(!1),ee=Object(p.a)(Z,2),te=ee[0],ae=ee[1],ie=r.useMemo((function(){var e;if(200===(null===(e=m.payload)||void 0===e?void 0:e.status))return m.payload.value}),[null===(e=m.payload)||void 0===e?void 0:e.status,null===(t=m.payload)||void 0===t?void 0:t.value]),le=r.useCallback((function(e){var t,n;W(!1),(0,h.mutate)({id:e.id,displayName:null!==(t=e.displayName)&&void 0!==t?t:"",name:null!==(n=e.name)&&void 0!==n?n:"",bundleId:b,ownerRole:e.ownerRole}).then((function(e){var t;return 200!==(null===(t=e.payload)||void 0===t?void 0:t.status)||d||c(),e})).then(j.query)}),[b,j.query,h.mutate,d,c]),re=r.useCallback(Object(R.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!1),t=O.mutate,e.next=4,t(E.id);case 4:if(!e.sent.error){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),[E.id,O.mutate]);return j.loading?Object(I.jsx)(y.a,{}):200!==(null===(n=j.payload)||void 0===n?void 0:n.status)?Object(I.jsxs)("span",{children:["Error while loading applications: ",j.errorObject.toString()]}):Object(I.jsx)(r.Fragment,{children:Object(I.jsxs)(v.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h1",children:Object(I.jsxs)(C.a,{children:[Object(I.jsx)(V.a,{target:"#",children:" Bundles "}),Object(I.jsx)(V.a,{target:"#",children:m.loading||200!==(null===(a=m.payload)||void 0===a?void 0:a.status)?Object(I.jsx)(y.a,{}):m.payload.value.displayName})]})}),Object(I.jsxs)(D.a,{"aria-label":"Applications table",children:[Object(I.jsxs)(L.a,{children:[Object(I.jsx)(N.a,{children:Object(I.jsx)(A.a,{children:Object(I.jsxs)(P.a,{children:[Object(I.jsx)(k.a,{variant:"primary",type:"button",onClick:function(){W(!0),ae(!1),w({})},children:" Create Application "}),Q&&Object(I.jsx)(Ie,{isEdit:te,bundleName:null===ie||void 0===ie?void 0:ie.displayName,initialApplication:E,showModal:Q,applicationName:E.displayName,onClose:function(){W(!1),w({}),j.query()},onSubmit:le,isLoading:j.loading}),Object(I.jsx)(r.Fragment,{children:Object(I.jsx)(we,{onDelete:re,isOpen:K,onClose:function(){X(!1),j.query()},applicationName:E.displayName,bundleName:null===ie||void 0===ie?void 0:ie.displayName})})]})})}),Object(I.jsx)(q.a,{children:["Application","Name","Event Types","Application Id"].map((function(e,t){return Object(I.jsx)(M.a,{children:e},t)}))})]}),Object(I.jsx)(U.a,{children:j.payload.value.map((function(e){return Object(I.jsxs)(q.a,{children:[Object(I.jsx)(F.a,{children:Object(I.jsx)(k.a,{variant:"link",component:function(t){return Object(I.jsx)(u.b,Object(H.a)(Object(H.a)({},t),{},{to:Fe.application(e.id)}))},children:e.displayName})}),Object(I.jsx)(F.a,{children:e.name}),Object(I.jsx)(F.a,{children:Object(I.jsx)(ne,{appId:e.id})}),Object(I.jsx)(F.a,{children:e.id}),Object(I.jsx)(F.a,{children:Object(I.jsxs)(k.a,{className:"edit",type:"button",variant:"plain",isDisabled:!o(e.id),onClick:function(){return function(e){W(!0),ae(!0),w(e)}(e)},children:[" ",Object(I.jsx)(B.a,{})," "]})}),Object(I.jsx)(F.a,{children:Object(I.jsxs)(k.a,{className:"delete",type:"button",variant:"plain",isDisabled:!d,onClick:function(){return function(e){X(!0),w(e)}(e)},children:[Object(I.jsx)(G.a,{})," "]})})]},e.id)}))})]})]})})}},{path:Fe.email(),component:function(){var e,t,n,a=Object(s.useMutation)(De),i=r.useState(Le),l=Object(p.a)(i,2),o=l[0],c=l[1],d=r.useState(qe),u=Object(p.a)(d,2),b=u[0],m=u[1],j=r.useState(Me),y=Object(p.a)(j,2),h=y[0],O=y[1];if(r.useEffect((function(){(0,a.mutate)({subject:null!==o&&void 0!==o?o:"",body:null!==b&&void 0!==b?b:"",payload:null!==h&&void 0!==h?h:""})}),[]),a.loading)n={isLoading:!0};else if(200===(null===(e=a.payload)||void 0===e?void 0:e.status)){var f,_;n={isLoading:!1,succeeded:!0,subject:null!==(f=a.payload.value.subject)&&void 0!==f?f:"",body:null!==(_=a.payload.value.body)&&void 0!==_?_:""}}else if(400===(null===(t=a.payload)||void 0===t?void 0:t.status)){var E;n={isLoading:!1,succeeded:!1,error:null!==(E=a.payload.value.message)&&void 0!==E?E:"Unknown error"}}else n={isLoading:!1,succeeded:!1,error:"Unknown error"};var w=r.useCallback((function(){(0,a.mutate)({subject:null!==o&&void 0!==o?o:"",body:null!==b&&void 0!==b?b:"",payload:null!==h&&void 0!==h?h:""})}),[a.mutate,o,b,h]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(v.a,{children:Object(I.jsxs)(Ve.a,{children:[Object(I.jsx)(Ne.a,{isFilled:!0,children:Object(I.jsx)(x.a,{headingLevel:"h1",children:"Email templates"})}),Object(I.jsx)(Ne.a,{children:Object(I.jsx)(k.a,{onClick:w,children:"Render"})})]})}),Object(I.jsx)(v.a,{children:Object(I.jsxs)(Ge.a,{children:[Object(I.jsx)(Be.a,{children:Object(I.jsx)(x.a,{headingLevel:"h2",children:"Result"})}),Object(I.jsx)(Ue,Object(H.a)({},n))]})}),Object(I.jsxs)(v.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h2",children:"Subject template"}),Object(I.jsx)(g.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:Le,height:"50px",onChange:c})]}),Object(I.jsxs)(v.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h2",children:"Body template"}),Object(I.jsx)(g.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:qe,height:"300px",onChange:m})]}),Object(I.jsxs)(v.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h2",children:"Payload"}),Object(I.jsx)(g.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:Me,height:"300px",isLanguageLabelVisible:!0,language:g.b.json,onChange:O})]})]})}},{path:Fe.emailTemplates(),component:function(){var e=$().isAdmin,t=r.useCallback((function(){history.back()}),[]);return Object(I.jsx)(I.Fragment,{children:e&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(v.a,{children:Object(I.jsx)(Ve.a,{children:Object(I.jsx)(Ne.a,{isFilled:!0,children:Object(I.jsx)(x.a,{headingLevel:"h1",children:"Create an Email Template"})})})}),Object(I.jsxs)(v.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h2",children:"Subject template"}),Object(I.jsx)(g.a,{isLineNumbersVisible:!0,code:Ae,isMinimapVisible:!1,height:"50px"})]}),Object(I.jsxs)(v.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h2",children:"Body template"}),Object(I.jsx)(g.a,{isLineNumbersVisible:!0,code:Pe,isMinimapVisible:!1,height:"300px"})]}),Object(I.jsxs)(v.a,{children:[Object(I.jsx)(x.a,{headingLevel:"h2",children:"Payload"}),Object(I.jsx)(g.a,{isLineNumbersVisible:!0,isMinimapVisible:!1,code:ke,height:"300px",isLanguageLabelVisible:!0,language:g.b.json})]}),Object(I.jsx)(v.a,{children:Object(I.jsx)(le.a,{children:Object(I.jsxs)(Ve.a,{hasGutter:!0,children:[Object(I.jsx)(Ne.a,{children:Object(I.jsx)(k.a,{variant:"primary",type:"submit",children:"Submit"})}),Object(I.jsx)(Ne.a,{children:Object(I.jsx)(k.a,{variant:"secondary",type:"reset",onClick:t,children:"Back"})})]})})})]})})}}],ze=function(e){return Object(I.jsxs)(f.d,{children:[He.map((function(e){return Object(I.jsx)(f.b,{component:e.component,path:e.path},e.path)})),Object(I.jsx)(f.a,{to:Fe.aggregation()})]})},$e=n(5),Qe=n(428),We=n(686),Je=n(676),Ye=n(244),Ke=n(693),Xe=n(677),Ze=function(e){var t=Object(f.h)({path:e.to,exact:!0});return Object(I.jsx)(Je.a,{isActive:!!t,children:Object(I.jsx)(u.b,{to:e.to,children:e.children})})},et=function(e){return Object(I.jsx)(Ye.a,{children:Object(I.jsxs)(Ke.a,{children:[Object(I.jsx)(Xe.a,{title:"Bundles",children:e.bundles.map((function(e){return Object(I.jsx)(Ze,{to:Fe.bundle(e.id),children:e.displayName},e.id)}))}),Object(I.jsx)(Ze,{to:Fe.email(),children:"Email templates"}),Object(I.jsx)(Ze,{to:Fe.aggregation(),children:"Aggregation"})]})})},tt=n.p+"static/media/redhat-logo.f7405300.svg",nt=function(){var e=o.a.useState(!0),t=Object(p.a)(e,2),n=t[0],a=t[1],l=o.a.useCallback((function(){return a((function(e){return!e}))}),[a]),c=function(){var e=Object(s.useClient)(),t=Object(We.a)(),n=Object(r.useState)([]),a=Object(p.a)(n,2),l=a[0],o=a[1],c=Object(r.useState)(),d=Object(p.a)(c,2),u=d[0],b=d[1],m=Object(r.useCallback)(Object(R.a)(S.a.mark((function n(){var a,l,r,c,d,s,u,p,m,j;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=e.query,b(!0),n.next=4,l(i.InternalServiceGetBundles.actionCreator());case 4:if(r=n.sent,200!==(null===(a=r.payload)||void 0===a?void 0:a.status)){n.next=18;break}c=r.payload.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,applications:[]}})),d=[],s=Object($e.a)(r.payload.value);try{for(s.s();!(u=s.n()).done;)(p=u.value).id&&d.push(l(i.InternalServiceGetApplications.actionCreator({bundleId:p.id})))}catch(v){s.e(v)}finally{s.f()}return n.next=12,Promise.all(d);case 12:return m=n.sent,j=m.map((function(e){return e.payload})).reduce((function(e,t){return Object(Qe.a)(e,(function(e){if(200===(null===t||void 0===t?void 0:t.status)){var n=e.find((function(e){return t.value.length>0&&e.id===t.value[0].bundle_id}));n&&(n.applications=t.value.map((function(e){var t;return{id:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.display_name,name:e.name,bundleId:e.bundle_id}})))}}))}),c),n.next=16,t(Promise.resolve((function(){return o(j)})));case 16:n.t0=n.sent,(0,n.t0)();case 18:b(!1);case 19:case"end":return n.stop()}}),n)}))),[e.query,t]);return Object(r.useEffect)((function(){m()}),[m]),{bundles:l,isLoading:u}}(),d=Object(s.useQuery)(i.InternalServiceGetServerInfo.actionCreator()),u=Object(r.useMemo)((function(){var e=d.payload;return 200===(null===e||void 0===e?void 0:e.status)?"PROD"===e.value.environment?{show:!0,content:"You are viewing the production environment - Any change you make here will be applied immediately and could disrupt the service."}:{show:!1}:{show:!0,content:"Could not load the current environment. Please verify the URL before making any change."}}),[d.payload]),f=Object(s.useQuery)(i.InternalPermissionServiceGetPermissions.actionCreator()),_=Object(I.jsx)(b.a,{showNavToggle:!0,logo:Object(I.jsx)(m.a,{width:"150px",src:tt,alt:"Red Hat"}),logoProps:{href:"/internal"},isNavOpen:n,onNavToggle:l}),g=o.a.useMemo((function(){var e=f.payload;return 200===(null===e||void 0===e?void 0:e.status)?{isAdmin:e.value.is_admin,applications:e.value.applications.map((function(e){return{id:e.id,displayName:e.display_name}})),roles:e.value.roles,refresh:f.query}:{isAdmin:!1,applications:[],roles:[],refresh:f.query}}),[f.payload,f.query]);if(c.isLoading||d.loading||f.loading)return Object(I.jsx)(j.a,{header:_,children:Object(I.jsx)(v.a,{children:Object(I.jsx)(y.a,{})})});var x=Object(I.jsx)(h.a,{nav:Object(I.jsx)(et,{bundles:c.bundles}),isNavOpen:n});return Object(I.jsx)(z.Provider,{value:g,children:Object(I.jsxs)(j.a,{sidebar:x,header:_,children:[u.show&&Object(I.jsx)(v.a,{children:Object(I.jsx)(O.a,{variant:O.b.warning,title:u.content})}),Object(I.jsx)(ze,{})]})})},at=Object(s.createClient)({responseInterceptors:[l.validateSchemaResponseInterceptor]});d.a.render(Object(I.jsx)(r.StrictMode,{children:Object(I.jsx)(u.a,{children:Object(I.jsx)(s.ClientContextProvider,{client:at,children:Object(I.jsx)(nt,{})})})}),document.getElementById("root"))}},[[646,1,2]]]);
//# sourceMappingURL=main.fe701535.chunk.js.map